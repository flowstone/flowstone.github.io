<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="Xue Yao's blog"><meta name="keywords" content="XueYao, 薛尧, 流体石头, flowstone"><title>Ajax自定义日历 | 流体石头</title><link rel="stylesheet" type="text/css" href="//fonts.css.network/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Ajax自定义日历</h1><a id="logo" href="/.">流体石头</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="搜索"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Ajax自定义日历</h1><div class="post-meta"><a href="/2016/09/27/ajax-custom-calendar.html#comments" class="comment-count"></a><p><span class="date">Sep 27, 2016</span><span><a href="/categories/js/" class="category">js</a></span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h3 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h3><p>在一些购物网站中，都会有促销活动，这些活动都在日历上标注出来，如何通过Ajax让日历<br>通过读取数据库中的信息，正确的把促销活动标注在日历上，本文通过自定义日历来实现这<br>个问题。               </p>
<h3 id="技术难点"><a href="#技术难点" class="headerlink" title="技术难点"></a>技术难点</h3><ul>
<li>日历的布局</li>
<li>日历的初始化</li>
<li>日历的动态变化</li>
<li>日历的促销定制</li>
</ul>
<h3 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h3><p>1、 先创建一个固定的日历，效果如下<br><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2016/201160927_232635.png" alt="自定义日历初始效果图">    </p>
<p>html代码如下         </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="undefined">        * &#123;margin: 0; padding: 0;&#125;</span></div><div class="line"><span class="undefined">        body &#123;font-size: 13px;&#125;</span></div><div class="line"><span class="undefined">        .calendar &#123;width: 330px; margin: 0 auto;&#125;</span></div><div class="line"><span class="undefined">        .calendar .title &#123;</span></div><div class="line"><span class="undefined">            position: relative;</span></div><div class="line"><span class="undefined">            width: 100%;</span></div><div class="line"><span class="undefined">            height: 30px;</span></div><div class="line"><span class="undefined">            line-height: 30px;</span></div><div class="line"><span class="undefined">            background: #17a4eb;</span></div><div class="line"><span class="undefined">        &#125;</span></div><div class="line"><span class="undefined">        .title div &#123;position: absolute;&#125;</span></div><div class="line"><span class="undefined">        .prev &#123;left: 10px; &#125;</span></div><div class="line"><span class="undefined">        .now &#123;left: 40%;&#125;</span></div><div class="line"><span class="undefined">        .next &#123;right: 10px;&#125;</span></div><div class="line"><span class="undefined">        input &#123;height: 30px; width: 300px; margin: 100px 475px 0px;&#125;</span></div><div class="line"><span class="undefined">        table &#123;width: 100%; border-collapse: collapse;&#125;</span></div><div class="line"><span class="undefined">        table th &#123;border: 1px solid #ccc;&#125;</span></div><div class="line"><span class="undefined">        table td &#123;text-align: center; border: 1px solid #ccc;&#125;</span></div><div class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"calendar"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"prev"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>08<span class="tag">&lt;/<span class="name">span</span>&gt;</span>月</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"now"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>2016<span class="tag">&lt;/<span class="name">span</span>&gt;</span>年</div><div class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>09<span class="tag">&lt;/<span class="name">span</span>&gt;</span>月</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"next"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>10<span class="tag">&lt;/<span class="name">span</span>&gt;</span>月</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">table</span>&gt;</span></div><div class="line">            <span class="comment">&lt;!--星期部分--&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">thead</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>日<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>一<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>二<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>三<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>四<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>五<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>六<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></div><div class="line">            <span class="comment">&lt;!--日期部分--&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>当创建固定日历后，把日历的html部分注释掉(title和table)，保留css部分              </p>
<p>2、 通过javascript动态生成日历                       </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">       <span class="keyword">var</span> oInput = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'input'</span>)[<span class="number">0</span>];</div><div class="line">       <span class="keyword">var</span> oCalendar = <span class="built_in">document</span>.getElementById(<span class="string">'calendar'</span>);</div><div class="line"><span class="comment">//           console.log(oCalendar);</span></div><div class="line">       <span class="keyword">var</span> oDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">       <span class="keyword">var</span> year = oDate.getFullYear();</div><div class="line">       <span class="keyword">var</span> month = oDate.getMonth()+<span class="number">1</span>;</div><div class="line"></div><div class="line">       <span class="comment">//日期td</span></div><div class="line">       <span class="keyword">var</span> oTds = oCalendar.getElementsByTagName(<span class="string">'td'</span>);</div><div class="line"></div><div class="line">       <span class="keyword">var</span> flag = <span class="literal">false</span>;</div><div class="line">       oInput.onfocus = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">           showDate(year,month);</div><div class="line">       &#125;</div><div class="line">       <span class="comment">//显示日历</span></div><div class="line">       <span class="function"><span class="keyword">function</span> <span class="title">showDate</span>(<span class="params">year,month</span>) </span>&#123;</div><div class="line">           <span class="keyword">if</span> (<span class="literal">false</span> == flag) &#123;</div><div class="line"></div><div class="line">               <span class="keyword">var</span> oTitle = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</div><div class="line">               oTitle.className = <span class="string">'title'</span>;</div><div class="line"></div><div class="line">               oTitle.innerHTML = <span class="string">'&lt;div class="prev"&gt; &lt;span&gt;'</span>+(month<span class="number">-1</span>)+<span class="string">'&lt;/span&gt;月 &lt;/div&gt; '</span> +</div><div class="line">                       <span class="string">'&lt;div class="now"&gt; &lt;span&gt;'</span>+year+<span class="string">'&lt;/span&gt;年 &lt;span&gt;'</span>+month+<span class="string">'&lt;/span&gt;月 &lt;/div&gt; '</span> +</div><div class="line">                       <span class="string">'&lt;div class="next"&gt; &lt;span&gt;'</span>+(month+<span class="number">1</span>)+<span class="string">'&lt;/span&gt;月 &lt;/div&gt;'</span>;</div><div class="line"></div><div class="line">               oCalendar.appendChild(oTitle);</div><div class="line"></div><div class="line">               <span class="comment">//月份span</span></div><div class="line">                ospans = oCalendar.getElementsByTagName(<span class="string">'span'</span>);</div><div class="line">              <span class="comment">// console.log(ospans);</span></div><div class="line">                prevMonth = ospans[<span class="number">0</span>];</div><div class="line">                nextMonth = ospans[<span class="number">3</span>];</div><div class="line">                nowMonth = ospans[<span class="number">2</span>];</div><div class="line">                nowYear = ospans[<span class="number">1</span>];</div><div class="line"></div><div class="line">               <span class="comment">//创建星期</span></div><div class="line">               <span class="keyword">var</span> otable = <span class="built_in">document</span>.createElement(<span class="string">'table'</span>);</div><div class="line">               <span class="keyword">var</span> othead = <span class="built_in">document</span>.createElement(<span class="string">'thead'</span>);</div><div class="line">               <span class="keyword">var</span> otr = <span class="built_in">document</span>.createElement(<span class="string">'tr'</span>);</div><div class="line">               <span class="keyword">var</span> arr = [<span class="string">'日'</span>,<span class="string">'一'</span>,<span class="string">'二'</span>,<span class="string">'三'</span>,<span class="string">'四'</span>,<span class="string">'五'</span>,<span class="string">'六'</span>];</div><div class="line">               <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;arr.length; i++) &#123;</div><div class="line">                   <span class="comment">//创建th</span></div><div class="line">                   <span class="keyword">var</span> oth = <span class="built_in">document</span>.createElement(<span class="string">'th'</span>);</div><div class="line">                   oth.innerHTML = arr[i];</div><div class="line">                   otr.appendChild(oth);</div><div class="line">               &#125;</div><div class="line">               othead.appendChild(otr);</div><div class="line">               otable.appendChild(othead);</div><div class="line">               oCalendar.appendChild(otable);</div><div class="line"></div><div class="line"></div><div class="line">               <span class="comment">//先获得当前月有多少天</span></div><div class="line">               <span class="keyword">if</span> (<span class="number">1</span> == month || <span class="number">3</span> == month || <span class="number">5</span> == month || <span class="number">7</span> == month || <span class="number">8</span> == month || <span class="number">10</span> == month || <span class="number">12</span> == month) &#123;</div><div class="line">                   <span class="keyword">var</span> dayNum = <span class="number">31</span>;</div><div class="line">               &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">4</span> == month || <span class="number">6</span> == month || <span class="number">9</span> == month || <span class="number">11</span> == month) &#123;</div><div class="line">                   <span class="keyword">var</span> dayNum = <span class="number">30</span>;</div><div class="line">               &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">2</span> == month &amp;&amp; isLeapYear(year)) &#123;</div><div class="line">                   <span class="keyword">var</span> dayNum = <span class="number">29</span>;</div><div class="line">               &#125; <span class="keyword">else</span> &#123;</div><div class="line">                   <span class="keyword">var</span> dayNum = <span class="number">28</span>;</div><div class="line">               &#125;</div><div class="line">               <span class="comment">//确定当前月的1号是星期几</span></div><div class="line">               oDate.setFullYear(year);</div><div class="line">               oDate.setMonth(month<span class="number">-1</span>);</div><div class="line">               oDate.setDate(<span class="number">1</span>);</div><div class="line"></div><div class="line">               <span class="comment">//日期</span></div><div class="line">               <span class="keyword">var</span> otbody = <span class="built_in">document</span>.createElement(<span class="string">'tbody'</span>);</div><div class="line">               <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">6</span>; i++) &#123;</div><div class="line">                   <span class="keyword">var</span> oTr = <span class="built_in">document</span>.createElement(<span class="string">'tr'</span>);</div><div class="line">                   <span class="comment">//每行里面有7列</span></div><div class="line">                   <span class="keyword">for</span> (<span class="keyword">var</span> j=<span class="number">0</span>; j&lt;<span class="number">7</span>; j++) &#123;</div><div class="line">                       <span class="keyword">var</span> oTd = <span class="built_in">document</span>.createElement(<span class="string">'td'</span>);</div><div class="line">                       <span class="comment">//oTd.innerHTML = 1;</span></div><div class="line">                       oTr.appendChild(oTd);</div><div class="line">                   &#125;</div><div class="line">                   otbody.appendChild(oTr);</div><div class="line">               &#125;</div><div class="line">               otable.appendChild(otbody);</div><div class="line"></div><div class="line">               <span class="comment">//获得今天1号对应的是星期几</span></div><div class="line">               <span class="keyword">var</span> week = oDate.getDay();</div><div class="line">               <span class="keyword">var</span> oTds = oCalendar.getElementsByTagName(<span class="string">'td'</span>);</div><div class="line">               <span class="comment">//alert(week);</span></div><div class="line">               <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;dayNum; i++) &#123;</div><div class="line">                   oTds[i+week].innerHTML = i+<span class="number">1</span>;</div><div class="line">               &#125;</div><div class="line"></div><div class="line">               <span class="comment">//如果当前月month 是12或者1</span></div><div class="line">               <span class="keyword">if</span> (<span class="number">1</span> == month) &#123;</div><div class="line">                   prevMonth.innerHTML = <span class="number">12</span>;</div><div class="line">               &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">12</span> == month) &#123;</div><div class="line">                   nextMonth.innerHTML = <span class="number">1</span>;</div><div class="line">               &#125;</div><div class="line">               <span class="comment">//让当前日期显示红色、后面的显示蓝色</span></div><div class="line">               showColor();</div><div class="line">               <span class="comment">//给左右月份绑定点击事件</span></div><div class="line">                monthEvent();</div><div class="line">               <span class="comment">//给所有的td绑定点击事件</span></div><div class="line">               tdClick();</div><div class="line">               <span class="comment">//判断最后一行是否全为空</span></div><div class="line">               lastTr();</div><div class="line">               <span class="comment">//获得促销信息</span></div><div class="line">               getPromotion();</div><div class="line">               flag = <span class="literal">true</span>;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">       <span class="comment">//最后一行如果全部为空就将其隐藏</span></div><div class="line">       <span class="function"><span class="keyword">function</span> <span class="title">lastTr</span>(<span class="params"></span>) </span>&#123;</div><div class="line">           <span class="comment">//查找最后一行的所有td</span></div><div class="line">           <span class="keyword">var</span> flag = <span class="literal">true</span>;</div><div class="line">           <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">35</span>; i&lt;<span class="number">42</span>; i++) &#123;</div><div class="line">               <span class="keyword">if</span> (oTds[i].innerHTML != <span class="string">''</span>) &#123;</div><div class="line">                   <span class="comment">//有任何一个td不为空就设置为false</span></div><div class="line">                   flag = <span class="literal">false</span>;</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">           <span class="comment">//全部是空的</span></div><div class="line">           <span class="keyword">if</span> (flag) &#123;</div><div class="line">               <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">35</span>; i&lt;<span class="number">42</span>; i++) &#123;</div><div class="line">                   oTds[i].style.display = <span class="string">'none'</span>;</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">       <span class="comment">//给所有的td绑定点击事件</span></div><div class="line">       <span class="function"><span class="keyword">function</span> <span class="title">tdClick</span>(<span class="params"></span>) </span>&#123;</div><div class="line">           <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;oTds.length; i++) &#123;</div><div class="line">               oTds[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                    <span class="keyword">if</span> (<span class="string">'red'</span> == <span class="keyword">this</span>.className ||<span class="string">'blue'</span> == <span class="keyword">this</span>.className) &#123;</div><div class="line">                        <span class="keyword">var</span> year = nowYear.innerHTML;</div><div class="line">                        <span class="keyword">var</span> month = nowMonth.innerHTML;</div><div class="line">                        <span class="keyword">var</span> date = <span class="keyword">this</span>.innerHTML;</div><div class="line">                        oInput.value = year +<span class="string">'-'</span>+month+<span class="string">'-'</span>+date;</div><div class="line">                        flag = <span class="literal">false</span>;</div><div class="line">                        oCalendar.innerHTML = <span class="string">''</span>;</div><div class="line">                    &#125; <span class="keyword">else</span> &#123;</div><div class="line">                        alert(<span class="string">'您只能选择红色或蓝色区域'</span>);</div><div class="line">                    &#125;</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">       <span class="comment">//当前日期显示红色、后面的显示蓝色</span></div><div class="line">       <span class="function"><span class="keyword">function</span> <span class="title">showColor</span>(<span class="params"></span>) </span>&#123;</div><div class="line">           <span class="comment">//当前的日期</span></div><div class="line">           <span class="keyword">var</span> oday = <span class="keyword">new</span> <span class="built_in">Date</span>().getDate();</div><div class="line">           <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;oTds.length; i++) &#123;</div><div class="line">               <span class="keyword">if</span> (oday == oTds[i].innerHTML) &#123;</div><div class="line">                   oTds[i].className = <span class="string">'red'</span>;</div><div class="line">                   <span class="keyword">var</span> oindex = i;</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">           <span class="keyword">for</span> (<span class="keyword">var</span> j=oindex+<span class="number">1</span>; j&lt;oTds.length; j++) &#123;</div><div class="line">               oTds[j].className = <span class="string">'blue'</span>;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       <span class="comment">//给左右月份绑定点击事件</span></div><div class="line">       <span class="function"><span class="keyword">function</span> <span class="title">monthEvent</span>(<span class="params"></span>) </span>&#123;</div><div class="line">           <span class="comment">//向左的月份div</span></div><div class="line">           prevMonth.parentNode.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">               <span class="comment">//alert('向左');</span></div><div class="line">               flag = <span class="literal">false</span>;</div><div class="line">               oCalendar.innerHTML = <span class="string">''</span>;</div><div class="line">               <span class="keyword">if</span> (<span class="number">12</span> == prevMonth.innerHTML) &#123;</div><div class="line">                   showDate(year -= <span class="number">1</span>, <span class="number">12</span>);</div><div class="line">               &#125; <span class="keyword">else</span> &#123;</div><div class="line">                   showDate(year,<span class="built_in">parseInt</span>(prevMonth.innerHTML));</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">           <span class="comment">//向左的月份div</span></div><div class="line">           nextMonth.parentNode.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">               <span class="comment">//alert('向右');</span></div><div class="line">               flag = <span class="literal">false</span>;</div><div class="line">               oCalendar.innerHTML = <span class="string">''</span>;</div><div class="line">               <span class="keyword">if</span> (<span class="number">1</span> == nextMonth.innerHTML) &#123;</div><div class="line">                   showDate(year+=<span class="number">1</span>,<span class="number">1</span>);</div><div class="line">               &#125; <span class="keyword">else</span> &#123;</div><div class="line">                   showDate(year,<span class="built_in">parseInt</span>(nextMonth.innerHTML));</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">       <span class="comment">//判断是否是闰年</span></div><div class="line">       <span class="function"><span class="keyword">function</span> <span class="title">isLeapYear</span>(<span class="params">year</span>) </span>&#123;</div><div class="line">           <span class="keyword">if</span> (<span class="number">0</span> == year%<span class="number">100</span> &amp;&amp; <span class="number">0</span> == year%<span class="number">400</span>) &#123;</div><div class="line">               <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">           &#125;<span class="keyword">else</span> <span class="keyword">if</span> (year%<span class="number">100</span> != <span class="number">0</span> &amp;&amp; year%<span class="number">4</span> ==<span class="number">0</span>) &#123;</div><div class="line">               <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">           &#125; <span class="keyword">else</span> &#123;</div><div class="line">               <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>3、 从服务器获取促销的信息并在日历中显示              </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//从服务器获取促销信息</span></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getPromotion</span>(<span class="params"></span>) </span>&#123;</div><div class="line">       $.request(&#123;</div><div class="line">          method:<span class="string">"post"</span>, <span class="comment">//获取方式</span></div><div class="line">           url:<span class="string">"promotion.php"</span>, <span class="comment">//从哪个文件中获取</span></div><div class="line">           data:<span class="string">""</span>,  <span class="comment">//是否传递数据</span></div><div class="line">           callback:<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</div><div class="line">               <span class="built_in">eval</span>(<span class="string">"var obj="</span>+res);</div><div class="line">               <span class="keyword">if</span> (obj.status) &#123;</div><div class="line">                   <span class="keyword">var</span> dates = obj.dates;</div><div class="line">                   <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;dates.length; i++) &#123;</div><div class="line">                       <span class="keyword">for</span> (<span class="keyword">var</span> j=<span class="number">0</span>; j&lt;oTds.length; j++) &#123;</div><div class="line">                           <span class="keyword">if</span> (oTds[j].innerHTML == dates[i]) &#123;</div><div class="line">                               oTds[j].innerHTML += <span class="string">"促销"</span>;</div><div class="line">                               oTds[j].style.background = <span class="string">'red'</span>;</div><div class="line">                           &#125;</div><div class="line">                       &#125;</div><div class="line">                   &#125;</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;);</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p><strong>$.request()是封装在js里的Ajax方法,代码如下：</strong>                </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> $ = &#123;</div><div class="line">    request:<span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> xhr;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            <span class="comment">//主流浏览器里面的ajax对象</span></div><div class="line">            xhr = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">        &#125; <span class="keyword">catch</span>(e) &#123;</div><div class="line">            <span class="comment">//IE低版本的浏览器</span></div><div class="line">            xhr = <span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">//建立和服务器的连接</span></div><div class="line">        <span class="keyword">if</span> (obj.method == <span class="string">'get'</span>) &#123;</div><div class="line">            xhr.open(obj.method,obj.url+<span class="string">'?'</span>+obj.data+<span class="string">'&amp;'</span>+<span class="built_in">Math</span>.random(),<span class="literal">true</span>);</div><div class="line">            xhr.send();</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (obj.method == <span class="string">'post'</span>) &#123;</div><div class="line">            xhr.open(obj.method,obj.url,<span class="literal">true</span>);</div><div class="line">            xhr.setRequestHeader(<span class="string">"Content-Type"</span>,<span class="string">"application/x-www-form-urlencoded"</span>);</div><div class="line">            xhr.send(obj.data);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//监视服务器的处理状态</span></div><div class="line">        xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">if</span> (<span class="number">4</span> == xhr.readyState &amp;&amp; <span class="number">200</span> == xhr.status) &#123;</div><div class="line">                <span class="comment">//说明请求成功了，输出服务器返回的数据</span></div><div class="line">                obj.callback(xhr.responseText);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="string">``</span><span class="string">`        </span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">promotion.php     </span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">`</span><span class="string">``</span> php</div><div class="line">&lt;?php</div><div class="line">	$data[<span class="string">'status'</span>] = <span class="number">1</span>;</div><div class="line">    <span class="comment">//促销时间</span></div><div class="line">	$data[<span class="string">'dates'</span>] = array(<span class="number">28</span>,<span class="number">29</span>,<span class="number">30</span>);</div><div class="line"></div><div class="line">	echo json_encode($data);</div></pre></td></tr></table></figure>
<p>最终效果图如下，样式不是很美观                </p>
<p><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2016/20160927_232715.png" alt="自定义日历最终效果图"></p>
<p><strong><a href="https://github.com/flowstone/2016-Code/tree/master/day075AJax" target="_blank" rel="external">代码托管于GitHub</a></strong></p>
</div><div class="tags"><a href="/tags/javascript/">javascript</a><a href="/tags/日历/">日历</a><a href="/tags/ajax/">ajax</a></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2017/01/01/2017-small-goal.html" class="pre">2017年小目标</a><a href="/2016/09/17/use-js-simple-carousel-picture.html" class="next">JS特效-轮播图</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#需求分析"><span class="toc-text">需求分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#技术难点"><span class="toc-text">技术难点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#实现方法"><span class="toc-text">实现方法</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/09/06/java-web-jsp-start.html">JavaWeb之JSP入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/26/js-linkage-effect-example.html">js小例子之二级联动</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/07/Java-Equals-Position.html">关于equals()方法两边变量如何放置</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/02/Java-Random-Study.html">Java-Random入门</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/03/github-page-sub-domains.html">GitHub Pages 二级域名的配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/01/2017-small-goal.html">2017年小目标</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/27/ajax-custom-calendar.html">Ajax自定义日历</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/09/17/use-js-simple-carousel-picture.html">JS特效-轮播图</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/24/define-model-engine.html">开发自定义模板引擎</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/19/cookie-save-user-info.html">Cookie实例-保存用户登录时的用户名</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/git/">git</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/java/">java</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/jsp/">jsp</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/php/">php</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/个人/">个人</a><span class="category-list-count">1</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/目标/" style="font-size: 15px;">目标</a> <a href="/tags/equals/" style="font-size: 15px;">equals</a> <a href="/tags/Random/" style="font-size: 15px;">Random</a> <a href="/tags/javascript/" style="font-size: 15px;">javascript</a> <a href="/tags/日历/" style="font-size: 15px;">日历</a> <a href="/tags/ajax/" style="font-size: 15px;">ajax</a> <a href="/tags/apache/" style="font-size: 15px;">apache</a> <a href="/tags/php/" style="font-size: 15px;">php</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/cookie/" style="font-size: 15px;">cookie</a> <a href="/tags/template/" style="font-size: 15px;">template</a> <a href="/tags/git/" style="font-size: 15px;">git</a> <a href="/tags/github/" style="font-size: 15px;">github</a> <a href="/tags/域名/" style="font-size: 15px;">域名</a> <a href="/tags/jsp/" style="font-size: 15px;">jsp</a> <a href="/tags/分页/" style="font-size: 15px;">分页</a> <a href="/tags/轮播/" style="font-size: 15px;">轮播</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">七月 2016</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="null" title="null" target="_blank"></a><ul></ul><a href="null" title="null" target="_blank"></a><ul></ul><a href="null" title="null" target="_blank"></a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">Xue Yao.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script></body></html>