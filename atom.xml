<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>流体石头</title>
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://xueyao.org/"/>
  <updated>2017-09-14T10:17:21.885Z</updated>
  <id>http://xueyao.org/</id>
  
  <author>
    <name>Xue Yao</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>AJAX省市县三级联动的实现</title>
    <link href="http://xueyao.org/2017/09/14/jsp-ajax-three-level-linkage-effect-example.html"/>
    <id>http://xueyao.org/2017/09/14/jsp-ajax-three-level-linkage-effect-example.html</id>
    <published>2017-09-13T16:00:00.000Z</published>
    <updated>2017-09-14T10:17:21.885Z</updated>
    
    <content type="html"><![CDATA[<h4 id="省市县数据"><a href="#省市县数据" class="headerlink" title="省市县数据"></a>省市县数据</h4><p>本例子中省市县数据保存在MySQL数据库中,部分数据截图如下:</p>
<p><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2017/09/2017-09-14_173943.png" alt="省市县数据"><br><a id="more"></a></p>
<h4 id="从数据库中读取数据"><a href="#从数据库中读取数据" class="headerlink" title="从数据库中读取数据"></a>从数据库中读取数据</h4><ol>
<li>导入需要的jar包</li>
</ol>
<p><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2017/09/2017-09-14_174657.png" alt="所需jar包"></p>
<ol>
<li><p>连接池配置文件</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">c3p0-config</span>&gt;</span></div><div class="line">	<span class="comment">&lt;!-- 默认配置，如果没有指定则使用这个配置 --&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">default-config</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"driverClass"</span>&gt;</span>com.mysql.jdbc.Driver<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"jdbcUrl"</span>&gt;</span>jdbc:mysql://127.0.0.1:3306/test<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"user"</span>&gt;</span>root<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"password"</span>&gt;</span>数据库密码<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"checkoutTimeout"</span>&gt;</span>30000<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"idleConnectionTestPeriod"</span>&gt;</span>30<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"initialPoolSize"</span>&gt;</span>10<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxIdleTime"</span>&gt;</span>30<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxPoolSize"</span>&gt;</span>100<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"minPoolSize"</span>&gt;</span>10<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxStatements"</span>&gt;</span>200<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">user-overrides</span> <span class="attr">user</span>=<span class="string">"test-user"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxPoolSize"</span>&gt;</span>10<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"minPoolSize"</span>&gt;</span>1<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">"maxStatements"</span>&gt;</span>0<span class="tag">&lt;/<span class="name">property</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">user-overrides</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">default-config</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">c3p0-config</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>JDBCUtils工具类文件</p>
<blockquote>
<p>通用JDBCUtils工具类文件,使用时直接引入</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> org.xueyao.ajax.utils;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.sql.Connection;</div><div class="line"><span class="keyword">import</span> java.sql.ResultSet;</div><div class="line"><span class="keyword">import</span> java.sql.SQLException;</div><div class="line"><span class="keyword">import</span> java.sql.Statement;</div><div class="line"></div><div class="line"><span class="keyword">import</span> javax.sql.DataSource;</div><div class="line"></div><div class="line"><span class="keyword">import</span> org.apache.tomcat.jni.Thread;</div><div class="line"></div><div class="line"><span class="keyword">import</span> com.mchange.v2.c3p0.ComboPooledDataSource;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">JDBCUtils</span> </span>&#123;</div><div class="line">	</div><div class="line">	<span class="keyword">private</span> <span class="keyword">static</span> ComboPooledDataSource comboPooledDataSource = <span class="keyword">new</span> ComboPooledDataSource();</div><div class="line">	</div><div class="line">	<span class="comment">//使用ThreadLocal存取删链接对象</span></div><div class="line">	<span class="keyword">private</span> <span class="keyword">static</span> ThreadLocal&lt;Connection&gt; local = <span class="keyword">new</span> ThreadLocal&lt;&gt;();</div><div class="line">	</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException</span>&#123;</div><div class="line">		<span class="keyword">return</span> comboPooledDataSource.getConnection();</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> DataSource <span class="title">getDataSource</span><span class="params">()</span></span>&#123;</div><div class="line">		<span class="keyword">return</span> comboPooledDataSource;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">//从ThreadLocal获取链接的方法</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title">getCurrentConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException</span>&#123;</div><div class="line">		<span class="comment">//先从ThreadLocal获取中</span></div><div class="line">		Connection connection = local.get();</div><div class="line">		<span class="keyword">if</span>(connection != <span class="keyword">null</span>)&#123;</div><div class="line">			System.out.println(<span class="string">"从local获取数据："</span>+connection);</div><div class="line">			<span class="keyword">return</span> connection;</div><div class="line">		&#125;<span class="keyword">else</span>&#123;</div><div class="line">			<span class="comment">//如果没有，在从链接池获取，存入ThreadLocal中</span></div><div class="line">			Connection conn = comboPooledDataSource.getConnection();</div><div class="line">			System.out.println(<span class="string">"从连接池获取数据："</span>+conn);</div><div class="line">			local.set(conn);</div><div class="line">			<span class="keyword">return</span> conn;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="comment">//开启事务的方法</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">startTransaction</span><span class="params">()</span> <span class="keyword">throws</span> SQLException</span>&#123;</div><div class="line">		Connection connection = getCurrentConnection();</div><div class="line">		System.out.println(connection);</div><div class="line">		connection.setAutoCommit(<span class="keyword">false</span>);</div><div class="line">	&#125;</div><div class="line">	<span class="comment">//提交事务的方法</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">commit</span><span class="params">()</span> <span class="keyword">throws</span> SQLException</span>&#123;</div><div class="line">		Connection connection = getCurrentConnection();</div><div class="line">		System.out.println(connection);</div><div class="line">		connection.commit();</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="comment">//回滚事务的方法</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">rollback</span><span class="params">()</span> <span class="keyword">throws</span> SQLException</span>&#123;</div><div class="line">		Connection connection = getCurrentConnection();</div><div class="line">		System.out.println(connection);</div><div class="line">		connection.rollback();</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	<span class="comment">//释放资源的方法</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">close</span><span class="params">()</span> <span class="keyword">throws</span> SQLException</span>&#123;</div><div class="line">		Connection connection = getCurrentConnection();</div><div class="line">		System.out.println(connection);</div><div class="line">		local.remove();</div><div class="line">		connection.close();</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p>创建JavaBean文件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> org.xueyao.ajax.domain;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Province</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">int</span> codeid;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">int</span> parentid;</div><div class="line">	<span class="keyword">private</span> String cityName;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getCodeid</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> codeid;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCodeid</span><span class="params">(<span class="keyword">int</span> codeid)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.codeid = codeid;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getParentid</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> parentid;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setParentid</span><span class="params">(<span class="keyword">int</span> parentid)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.parentid = parentid;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">getCityName</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> cityName;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setCityName</span><span class="params">(String cityName)</span> </span>&#123;</div><div class="line">		<span class="keyword">this</span>.cityName = cityName;</div><div class="line">	&#125;</div><div class="line">	<span class="meta">@Override</span></div><div class="line">	<span class="function"><span class="keyword">public</span> String <span class="title">toString</span><span class="params">()</span> </span>&#123;</div><div class="line">		<span class="keyword">return</span> <span class="string">"Province [codeid="</span> + codeid + <span class="string">", parentid="</span> + parentid</div><div class="line">				+ <span class="string">", cityName="</span> + cityName + <span class="string">"]"</span>;</div><div class="line">	&#125;</div><div class="line">	</div><div class="line">	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>创建Servlet文件,获取省市县数据</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> org.xueyao.ajax.linkage;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.io.IOException;</div><div class="line"><span class="keyword">import</span> java.sql.SQLException;</div><div class="line"><span class="keyword">import</span> java.util.List;</div><div class="line"></div><div class="line"><span class="keyword">import</span> javax.servlet.ServletException;</div><div class="line"><span class="keyword">import</span> javax.servlet.http.HttpServlet;</div><div class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</div><div class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</div><div class="line"></div><div class="line"><span class="keyword">import</span> org.apache.commons.dbutils.QueryRunner;</div><div class="line"><span class="keyword">import</span> org.apache.commons.dbutils.handlers.BeanListHandler;</div><div class="line"><span class="keyword">import</span> org.xueyao.ajax.domain.Province;</div><div class="line"><span class="keyword">import</span> org.xueyao.ajax.utils.JDBCUtils;</div><div class="line"></div><div class="line"><span class="keyword">import</span> flexjson.JSONSerializer;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GetDataServlet</span> <span class="keyword">extends</span> <span class="title">HttpServlet</span> </span>&#123;</div><div class="line">	<span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">long</span> serialVersionUID = <span class="number">1L</span>;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doGet</span><span class="params">(HttpServletRequest request,</span></span></div><div class="line"><span class="function"><span class="params">			HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</div><div class="line">		<span class="keyword">int</span> parentid = Integer.parseInt(request.getParameter(<span class="string">"parentid"</span>));</div><div class="line">		String sql = <span class="string">"SELECT * FROM province WHERE parentid=?"</span>;</div><div class="line">		QueryRunner qr = <span class="keyword">new</span> QueryRunner(JDBCUtils.getDataSource());</div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			List&lt;Province&gt; list = qr.query(sql, <span class="keyword">new</span> BeanListHandler&lt;Province&gt;(Province.class), parentid);</div><div class="line">			<span class="comment">//System.out.println(list);</span></div><div class="line">			</div><div class="line">			<span class="comment">//将list集合转换成json格式字符串</span></div><div class="line">			JSONSerializer jsonSerializer = <span class="keyword">new</span> JSONSerializer();</div><div class="line">			String serialize = jsonSerializer.serialize(list);</div><div class="line">			<span class="comment">//System.out.println(serialize);</span></div><div class="line">			</div><div class="line">			<span class="comment">//向页面输入字符串数据</span></div><div class="line">			response.setContentType(<span class="string">"text/html;charset=utf-8"</span>);</div><div class="line">			response.getWriter().write(serialize);</div><div class="line">		&#125; <span class="keyword">catch</span> (SQLException e) &#123;</div><div class="line">			<span class="comment">// TODO Auto-generated catch block</span></div><div class="line">			e.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	<span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">doPost</span><span class="params">(HttpServletRequest request,</span></span></div><div class="line"><span class="function"><span class="params">			HttpServletResponse response)</span> <span class="keyword">throws</span> ServletException, IOException </span>&#123;</div><div class="line">		doGet(request, response);</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="从页面显示三级联动"><a href="#从页面显示三级联动" class="headerlink" title="从页面显示三级联动"></a>从页面显示三级联动</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">%@</span> <span class="attr">page</span> <span class="attr">language</span>=<span class="string">"java"</span> <span class="attr">contentType</span>=<span class="string">"text/html; charset=UTF-8"</span></span></div><div class="line"><span class="tag">    <span class="attr">pageEncoding</span>=<span class="string">"UTF-8"</span>%&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">%@</span> <span class="attr">taglib</span> <span class="attr">prefix</span>=<span class="string">"c"</span>  <span class="attr">uri</span>=<span class="string">"http://java.sun.com/jsp/jstl/core"</span>%&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">c:set</span> <span class="attr">var</span>=<span class="string">"root"</span> <span class="attr">value</span>=<span class="string">"$&#123;pageContext.request.contextPath &#125;"</span>&gt;</span><span class="tag">&lt;/<span class="name">c:set</span>&gt;</span></div><div class="line"><span class="meta">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"Content-Type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>省市县页面<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"js/jquery-1.8.3.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></div><div class="line"><span class="javascript">    <span class="comment">//获得三个下拉菜单元素</span></span></div><div class="line"><span class="javascript">	<span class="keyword">var</span> $pro = $(<span class="string">"#province"</span>);</span></div><div class="line"><span class="javascript">	<span class="keyword">var</span> $city = $(<span class="string">"#city"</span>);</span></div><div class="line"><span class="javascript">	<span class="keyword">var</span> $area = $(<span class="string">"#area"</span>);</span></div><div class="line"><span class="undefined">	</span></div><div class="line"><span class="javascript">	$.get(</span></div><div class="line"><span class="javascript">		<span class="string">"$&#123;root&#125;/getData?parentid=0"</span>,</span></div><div class="line"><span class="javascript">		<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span></div><div class="line"><span class="javascript">			<span class="comment">//alert(data);</span></span></div><div class="line"><span class="javascript">            <span class="comment">//遍历数据</span></span></div><div class="line"><span class="javascript">			$(data).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">				<span class="comment">//创建option标签,并追加到省级菜单中</span></span></div><div class="line"><span class="javascript">				$pro.append(<span class="string">"&lt;option value='"</span>+<span class="keyword">this</span>.codeid+<span class="string">"'&gt;"</span>+<span class="keyword">this</span>.cityName+<span class="string">"&lt;/option&gt;"</span>);</span></div><div class="line"><span class="undefined">			&#125;); </span></div><div class="line"><span class="javascript">		&#125;,<span class="string">"json"</span>);</span></div><div class="line"><span class="javascript">	<span class="comment">//省级菜单选择事件</span></span></div><div class="line"><span class="javascript">	$pro.change(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">        <span class="comment">//清空市县菜单中数据,保留第一个属性</span></span></div><div class="line"><span class="javascript">		$city.prop(<span class="string">"length"</span>,<span class="number">1</span>);</span></div><div class="line"><span class="javascript">		$area.prop(<span class="string">"length"</span>,<span class="number">1</span>);</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="javascript">		$.get(</span></div><div class="line"><span class="javascript">			<span class="string">"$&#123;root&#125;/getData?parentid="</span>+<span class="keyword">this</span>.value,</span></div><div class="line"><span class="javascript">			<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span></div><div class="line"><span class="javascript">				$(data).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></div><div class="line"><span class="javascript">					$city.append(<span class="string">"&lt;option value='"</span>+<span class="keyword">this</span>.codeid+<span class="string">"'&gt;"</span>+<span class="keyword">this</span>.cityName+<span class="string">"&lt;/option&gt;"</span>);</span></div><div class="line"><span class="undefined">				&#125;);</span></div><div class="line"><span class="javascript">			&#125;,<span class="string">"json"</span>);</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="javascript">    <span class="comment">//市级菜单选择事件</span></span></div><div class="line"><span class="javascript">	$city.change(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">        <span class="comment">//清空县菜单中数据,保留第一个属性</span></span></div><div class="line"><span class="javascript">		$area.prop(<span class="string">"length"</span>,<span class="number">1</span>);</span></div><div class="line"><span class="javascript">		$.get(</span></div><div class="line"><span class="javascript">				<span class="string">"$&#123;root&#125;/getData?parentid="</span>+<span class="keyword">this</span>.value,</span></div><div class="line"><span class="javascript">				<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</span></div><div class="line"><span class="javascript">					$(data).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span></div><div class="line"><span class="javascript">						$area.append(<span class="string">"&lt;option value='"</span>+<span class="keyword">this</span>.codeid+<span class="string">"'&gt;"</span>+<span class="keyword">this</span>.cityName+<span class="string">"&lt;/option&gt;"</span>);</span></div><div class="line"><span class="undefined">					&#125;);</span></div><div class="line"><span class="javascript">				&#125;,<span class="string">"json"</span>);				</span></div><div class="line"><span class="undefined">	&#125;);</span></div><div class="line"><span class="undefined"></span></div><div class="line"><span class="undefined">	</span></div><div class="line"><span class="undefined">&#125;);</span></div><div class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">center</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"province"</span> <span class="attr">name</span>=<span class="string">"province"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"none"</span>&gt;</span>--请选择省--<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"city"</span> <span class="attr">name</span>=<span class="string">"city"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"none"</span>&gt;</span>--请选择市--<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line">		<span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"area"</span> <span class="attr">name</span>=<span class="string">"area"</span>&gt;</span></div><div class="line">			<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"none"</span>&gt;</span>--请选择县--<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">		<span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">center</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>上面的javascript代码可以优化成这样:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">loadData</span>(<span class="params">value, ele</span>)</span>&#123;</div><div class="line">	$.get(</div><div class="line">			<span class="string">"$&#123;root&#125;/getData?parentid="</span>+value,</div><div class="line">			<span class="function"><span class="keyword">function</span>(<span class="params">data</span>) </span>&#123;</div><div class="line">				<span class="comment">//遍历数据</span></div><div class="line">				$(data).each(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">					<span class="comment">//创建option标签,追加到菜单中</span></div><div class="line">					ele.append(<span class="string">"&lt;option value='"</span>+<span class="keyword">this</span>.codeid+<span class="string">"'&gt;"</span>+<span class="keyword">this</span>.cityName+<span class="string">"&lt;/option&gt;"</span>);</div><div class="line">				&#125;); </div><div class="line">			&#125;,<span class="string">"json"</span>);</div><div class="line">&#125;</div><div class="line">$(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">	<span class="keyword">var</span> $pro = $(<span class="string">"#province"</span>);</div><div class="line">	<span class="comment">//加载省和直辖市数据</span></div><div class="line">	loadData(<span class="number">0</span>,$pro);</div><div class="line">	<span class="comment">//加载市</span></div><div class="line">	$(<span class="string">"#city,#area"</span>).change(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">		<span class="comment">// 清空原来的数据</span></div><div class="line">		$(<span class="keyword">this</span>).nextAll().prop(<span class="string">"length"</span>,<span class="number">1</span>);</div><div class="line">		loadData(<span class="keyword">this</span>.value, $(<span class="keyword">this</span>).next());</div><div class="line"></div><div class="line">	&#125;);</div><div class="line">	</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<h4 id="效果图如下"><a href="#效果图如下" class="headerlink" title="效果图如下:"></a>效果图如下:</h4><p><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2017/09/2017-09-14_172045.gif" alt="ajax三级联动效果图"></p>
<p><strong><a href="https://github.com/flowstone/blog-example-code/tree/master/jsp-ajax-three-level-linkage-effect-example" target="_blank" rel="external">代码托管于GitHub</a></strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;省市县数据&quot;&gt;&lt;a href=&quot;#省市县数据&quot; class=&quot;headerlink&quot; title=&quot;省市县数据&quot;&gt;&lt;/a&gt;省市县数据&lt;/h4&gt;&lt;p&gt;本例子中省市县数据保存在MySQL数据库中,部分数据截图如下:&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/flowstone/blogimg/master/2017/09/2017-09-14_173943.png&quot; alt=&quot;省市县数据&quot;&gt;&lt;br&gt;
    
    </summary>
    
      <category term="ajax" scheme="http://xueyao.org/categories/ajax/"/>
    
    
      <category term="javascript" scheme="http://xueyao.org/tags/javascript/"/>
    
      <category term="ajax" scheme="http://xueyao.org/tags/ajax/"/>
    
      <category term="jsp" scheme="http://xueyao.org/tags/jsp/"/>
    
  </entry>
  
  <entry>
    <title>Javamail简单使用案例</title>
    <link href="http://xueyao.org/2017/09/13/javamail-simple-example.html"/>
    <id>http://xueyao.org/2017/09/13/javamail-simple-example.html</id>
    <published>2017-09-12T16:00:00.000Z</published>
    <updated>2017-09-14T13:15:45.050Z</updated>
    
    <content type="html"><![CDATA[<h4 id="邮件开发环境搭建"><a href="#邮件开发环境搭建" class="headerlink" title="邮件开发环境搭建"></a>邮件开发环境搭建</h4><p><strong>邮件服务器</strong></p>
<ul>
<li><p>易邮邮件服务器</p>
<ul>
<li><p>配置如下</p>
<p><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2017/09/2017-09-13_085915.png" alt="易邮邮件服务器"></p>
<a id="more"></a>
<p><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2017/09/2017-09-13_191012.png" alt="易邮邮件服务器配置"></p>
</li>
</ul>
</li>
</ul>
<p><strong>邮件客户端</strong></p>
<ul>
<li>Foxmail<ul>
<li>配置如下<br>  <img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2017/09/2017-09-13_192046.png" alt="Foxmail配置"></li>
</ul>
</li>
</ul>
<h4 id="使用Javamail发送邮件"><a href="#使用Javamail发送邮件" class="headerlink" title="使用Javamail发送邮件"></a>使用Javamail发送邮件</h4><ol>
<li>下载</li>
</ol>
<ul>
<li>javamail-samples.zip</li>
<li>javax.mail.jar<br><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2017/09/2017-09-13_094625.png" alt=""><blockquote>
<p>官网地址<a href="http://www.oracle.com/technetwork/java/javamail/index.html" target="_blank" rel="external">http://www.oracle.com/technetwork/java/javamail/index.html</a></p>
</blockquote>
</li>
</ul>
<ol>
<li>使用javamail<blockquote>
<p>发送到本地的邮件中</p>
</blockquote>
</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> org.xueyao.email;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.util.Date;</div><div class="line"><span class="keyword">import</span> java.util.Properties;</div><div class="line"></div><div class="line"><span class="keyword">import</span> javax.mail.Message;</div><div class="line"><span class="keyword">import</span> javax.mail.Session;</div><div class="line"><span class="keyword">import</span> javax.mail.Transport;</div><div class="line"><span class="keyword">import</span> javax.mail.internet.InternetAddress;</div><div class="line"><span class="keyword">import</span> javax.mail.internet.MimeMessage;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MailUtils</span> </span>&#123;</div><div class="line">	<span class="comment">/**</span></div><div class="line"><span class="comment">	 * 发送邮件</span></div><div class="line"><span class="comment">	 * <span class="doctag">@param</span> to   接收邮件的地址</span></div><div class="line"><span class="comment">	 * <span class="doctag">@param</span> subject  邮件主题</span></div><div class="line"><span class="comment">	 * <span class="doctag">@param</span> msgText   邮件内容</span></div><div class="line"><span class="comment">	 */</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">send</span><span class="params">(String to, String subject, String msgText)</span> </span>&#123;</div><div class="line">		<span class="comment">//发邮件的地址</span></div><div class="line">		String from = <span class="string">"admin@flowstone.com"</span>; </div><div class="line">		<span class="comment">//邮件发送服务器地址</span></div><div class="line">		String host = <span class="string">"localhost"</span>; </div><div class="line">		<span class="comment">//是否开启debug模式</span></div><div class="line">		<span class="keyword">boolean</span> debug = <span class="keyword">true</span>; </div><div class="line"></div><div class="line">		<span class="comment">// 设置发送邮件的配置信息</span></div><div class="line">		Properties props = <span class="keyword">new</span> Properties();</div><div class="line">		props.put(<span class="string">"mail.smtp.host"</span>, host);</div><div class="line">		<span class="keyword">if</span> (debug) &#123;</div><div class="line">			props.put(<span class="string">"mail.debug"</span>, debug);</div><div class="line">		&#125;</div><div class="line">		<span class="comment">//邮件会话</span></div><div class="line">		Session session = Session.getInstance(props, <span class="keyword">null</span>);</div><div class="line">		session.setDebug(debug);</div><div class="line"></div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			<span class="comment">//创建邮件</span></div><div class="line">			MimeMessage msg = <span class="keyword">new</span> MimeMessage(session);</div><div class="line">			msg.setFrom(<span class="keyword">new</span> InternetAddress(from));</div><div class="line">			InternetAddress[] address = &#123; <span class="keyword">new</span> InternetAddress(to) &#125;;</div><div class="line">			msg.setRecipients(Message.RecipientType.TO, address);</div><div class="line">			<span class="comment">//设置主题</span></div><div class="line">			msg.setSubject(subject);</div><div class="line">			<span class="comment">//设置发送时间</span></div><div class="line">			msg.setSentDate(<span class="keyword">new</span> Date());</div><div class="line">			<span class="comment">// If the desired charset is known, you can use</span></div><div class="line">			<span class="comment">// setText(text, charset)</span></div><div class="line">			<span class="comment">//设置邮件的内容</span></div><div class="line">			msg.setText(msgText);</div><div class="line">			<span class="comment">//发送邮件</span></div><div class="line">			Transport.send(msg);</div><div class="line">		&#125; <span class="keyword">catch</span> (Exception mex) &#123;</div><div class="line">			mex.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		String to = <span class="string">"test02@flowstone.com"</span>;</div><div class="line">		String subject = <span class="string">"如何学习?"</span>;</div><div class="line">		String msgText = <span class="string">"解决学习困扰,就是天天晚上熬夜学习"</span>;</div><div class="line">		MailUtils.send(to, subject, msgText);</div><div class="line"></div><div class="line">		</div><div class="line">	&#125;</div><div class="line"></div><div class="line">	</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ol>
<li>效果图<br><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2017/09/2017-09-13_193447.png" alt="效果图"></li>
</ol>
<h4 id="通过QQ邮箱发送"><a href="#通过QQ邮箱发送" class="headerlink" title="通过QQ邮箱发送"></a>通过QQ邮箱发送</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">package</span> org.xueyao.email;</div><div class="line"></div><div class="line"><span class="keyword">import</span> java.util.Date;</div><div class="line"><span class="keyword">import</span> java.util.Properties;</div><div class="line"></div><div class="line"><span class="keyword">import</span> javax.mail.Message;</div><div class="line"><span class="keyword">import</span> javax.mail.Session;</div><div class="line"><span class="keyword">import</span> javax.mail.Transport;</div><div class="line"><span class="keyword">import</span> javax.mail.internet.InternetAddress;</div><div class="line"><span class="keyword">import</span> javax.mail.internet.MimeMessage;</div><div class="line"></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MailQQUtils</span> </span>&#123;</div><div class="line">	<span class="comment">/**</span></div><div class="line"><span class="comment">	 * 发送邮件</span></div><div class="line"><span class="comment">	 * <span class="doctag">@param</span> to   接收邮件的地址</span></div><div class="line"><span class="comment">	 * <span class="doctag">@param</span> subject  邮件主题</span></div><div class="line"><span class="comment">	 * <span class="doctag">@param</span> msgText   邮件内容</span></div><div class="line"><span class="comment">	 */</span></div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">send</span><span class="params">(String to, String subject, String msgText)</span> </span>&#123;</div><div class="line">		<span class="comment">//发邮件的地址</span></div><div class="line">		String from = <span class="string">"931330220@qq.com"</span>; </div><div class="line">		String password = <span class="string">"授权码"</span>;</div><div class="line">		<span class="comment">//邮件发送服务器地址</span></div><div class="line">		String host = <span class="string">"smtp.qq.com"</span>; </div><div class="line">		<span class="comment">//是否开启debug模式</span></div><div class="line">		<span class="keyword">boolean</span> debug = <span class="keyword">true</span>; </div><div class="line"></div><div class="line">		<span class="comment">// 设置发送邮件的配置信息</span></div><div class="line">		Properties props = <span class="keyword">new</span> Properties();</div><div class="line">		props.put(<span class="string">"mail.smtp.host"</span>, host);</div><div class="line">		</div><div class="line">		<span class="keyword">if</span> (debug) &#123;</div><div class="line">			props.put(<span class="string">"mail.debug"</span>, debug);</div><div class="line">		&#125;</div><div class="line">		<span class="comment">//添加auth认证</span></div><div class="line">		props.put(<span class="string">"mail.smtp.auth"</span>, <span class="string">"true"</span>);</div><div class="line">		props.put(<span class="string">"mail.smtp.port"</span>, <span class="string">"587"</span>);</div><div class="line">		</div><div class="line">		<span class="comment">//邮件会话</span></div><div class="line">		Session session = Session.getInstance(props, <span class="keyword">null</span>);</div><div class="line">		session.setDebug(debug);</div><div class="line"></div><div class="line">		<span class="keyword">try</span> &#123;</div><div class="line">			<span class="comment">//创建邮件</span></div><div class="line">			MimeMessage msg = <span class="keyword">new</span> MimeMessage(session);</div><div class="line">			msg.setFrom(<span class="keyword">new</span> InternetAddress(from));</div><div class="line">			InternetAddress[] address = &#123; <span class="keyword">new</span> InternetAddress(to) &#125;;</div><div class="line">			msg.setRecipients(Message.RecipientType.TO, address);</div><div class="line">			<span class="comment">//设置主题</span></div><div class="line">			msg.setSubject(subject);</div><div class="line">			<span class="comment">//设置发送时间</span></div><div class="line">			msg.setSentDate(<span class="keyword">new</span> Date());</div><div class="line">			<span class="comment">//设置邮件的内容</span></div><div class="line">			msg.setText(msgText);</div><div class="line">			<span class="comment">//发送邮件</span></div><div class="line">			Transport.send(msg,from,password);</div><div class="line">		&#125; <span class="keyword">catch</span> (Exception mex) &#123;</div><div class="line">			mex.printStackTrace();</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</div><div class="line">		String to = <span class="string">"收件邮箱"</span>;</div><div class="line">		String subject = <span class="string">"如何学习?"</span>;</div><div class="line">		String msgText = <span class="string">"解决学习困扰,就是天天晚上熬夜学习"</span>;</div><div class="line">		MailQQUtils.send(to, subject, msgText);</div><div class="line"></div><div class="line">		</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><strong>效果图</strong></p>
<p><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2017/09/2017-09-13_211125.png" alt="通过qq发送邮件"></p>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;邮件开发环境搭建&quot;&gt;&lt;a href=&quot;#邮件开发环境搭建&quot; class=&quot;headerlink&quot; title=&quot;邮件开发环境搭建&quot;&gt;&lt;/a&gt;邮件开发环境搭建&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;邮件服务器&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;易邮邮件服务器&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;配置如下&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/flowstone/blogimg/master/2017/09/2017-09-13_085915.png&quot; alt=&quot;易邮邮件服务器&quot;&gt;&lt;/p&gt;
    
    </summary>
    
      <category term="java" scheme="http://xueyao.org/categories/java/"/>
    
    
      <category term="jsp" scheme="http://xueyao.org/tags/jsp/"/>
    
      <category term="mail" scheme="http://xueyao.org/tags/mail/"/>
    
  </entry>
  
  <entry>
    <title>JavaWeb之JSP入门</title>
    <link href="http://xueyao.org/2017/09/06/java-web-jsp-start.html"/>
    <id>http://xueyao.org/2017/09/06/java-web-jsp-start.html</id>
    <published>2017-09-06T12:54:57.000Z</published>
    <updated>2017-09-06T14:23:45.081Z</updated>
    
    <content type="html"><![CDATA[<h4 id="JSP原理及执行过程"><a href="#JSP原理及执行过程" class="headerlink" title="JSP原理及执行过程"></a>JSP原理及执行过程</h4><ol>
<li>流程图分析<br><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2017/2017-09-06_203303.png" alt="JSP流程图"></li>
</ol>
<a id="more"></a>
<ul>
<li>用户发起请求,用户通过浏览器访问jsp页面,浏览器将HTTP协议的请求部分发送到服务端.</li>
<li>服务端获取请求部分,分析请求,发现本次的请求的的是jsp页面,jsp引擎按照内部规定,将jsp页面转换为一个servlet文件,并生成java文件,index_jsp.java,<br>转换后的java文件中有init,service,destroy方法,在service方法中,将HTML标签原封不动输出到浏览器中,碰到java代码,复制到service方法中</li>
</ul>
<h4 id="JSP如何出现"><a href="#JSP如何出现" class="headerlink" title="JSP如何出现"></a>JSP如何出现</h4><p>如果开发中直接使用servlet对客户端响应,是难以维护的,因为它把html标签全部写到java文件中,更改一个小的部件,就要修改servlet文件.</p>
<h4 id="JSP语法"><a href="#JSP语法" class="headerlink" title="JSP语法"></a>JSP语法</h4><ol>
<li><p>JSP脚本段</p>
<ol>
<li><p>存放定义型的语句</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;%! %&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>普通的Java语句</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;%  %&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>可以计算出结果的表达式</p>
<figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;%= %&gt;</div></pre></td></tr></table></figure>
</li>
</ol>
</li>
<li><p>JSP的注释</p>
 <figure class="highlight jsp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;%-- JSP的注释 --%&gt;</div></pre></td></tr></table></figure>
<ul>
<li>注意:JSP中实现注释,优先使用JSP注释,效率高,转换为servlet的时候,不需要处理</li>
</ul>
</li>
<li><p>JSP指令</p>
<ol>
<li><p>指令格式</p>
<pre><code class="jsp">&lt;%@ 指令名称 属性名<span class="number">1</span>=”属性值<span class="number">1</span>” 属性名<span class="number">2</span>=”属性值<span class="number">2</span>”  属性名<span class="number">3</span>=”属性值<span class="number">3</span>” %&gt;
</code></pre>
</li>
<li>指令的分类(3个)<ul>
<li>page:告诉JSP引擎如何将当前JSP转换为Servlet<ul>
<li>import=”cn.itcast.domain.Product  导入其他JAVA对象</li>
<li>language=”java”: 如果JSP中出现脚本,采用的语言类型,目前仅支持JAVA</li>
<li>contentType=”text/html;charset=UTF-8”:告诉浏览器,本次响应内容类型和编码</li>
<li>pageEncoding=”UTF-8” :告诉JSP引擎,当前页面采用的编码格式</li>
<li>autoFlush=”true”: 是否自动刷新</li>
<li>buffer=”8kb”: response缓存区大小</li>
<li>session=”true”: 如果获取不到sessionid是否创建session</li>
<li>errorPage=”error.jsp”: 当前页面发生错误之后,处理错误页面</li>
<li>isErrorPage=”true”:当前页面是错误页面</li>
</ul>
</li>
<li>include:包含其它文件</li>
<li>taglib:引用其它的标签库</li>
</ul>
</li>
<li>内置对象(9个)<ul>
<li>application</li>
<li>config<ul>
<li>JSP相当于servlet可以为servlet配置参数,也可以为JSP配置参数</li>
</ul>
</li>
<li>out <ul>
<li>2个out不是同一个对象,response对应的out优先级高</li>
<li>JSP中默认使用内置的out对象</li>
</ul>
</li>
<li>request</li>
<li>response</li>
<li>session</li>
<li>exception<ul>
<li>需要将当前页面的page指令下设置isErrorPage=”true”才能使用</li>
<li><strong>作用:开发阶段,通过JSP中获取exception中的信息判断JSP出错异常信息</strong></li>
</ul>
</li>
<li>pageContext<ul>
<li>获取其它8个内置对象</li>
<li>当作域对象使用</li>
<li>操作其它域对象</li>
<li><strong>pageContext.findAttribute(name)</strong></li>
<li>pageContext&gt;request&gt;session&gt;application</li>
</ul>
</li>
<li>page<ul>
<li>代表this(当前访问的servlet)</li>
</ul>
</li>
</ul>
</li>
<li><p>JSP域对象</p>
<ul>
<li>pageContext</li>
<li>request</li>
<li>session</li>
<li>application</li>
</ul>
</li>
<li><p>JSP动作</p>
<pre><code class="jsp">&lt;jsp:forward page=""&gt;&lt;/jsp:forward&gt;
&lt;jsp:include page=""&gt;&lt;/jsp:include&gt;
</code></pre>
</li>
</ol>
</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;JSP原理及执行过程&quot;&gt;&lt;a href=&quot;#JSP原理及执行过程&quot; class=&quot;headerlink&quot; title=&quot;JSP原理及执行过程&quot;&gt;&lt;/a&gt;JSP原理及执行过程&lt;/h4&gt;&lt;ol&gt;
&lt;li&gt;流程图分析&lt;br&gt;&lt;img src=&quot;https://raw.githubusercontent.com/flowstone/blogimg/master/2017/2017-09-06_203303.png&quot; alt=&quot;JSP流程图&quot;&gt;&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="jsp" scheme="http://xueyao.org/categories/jsp/"/>
    
    
      <category term="jsp" scheme="http://xueyao.org/tags/jsp/"/>
    
  </entry>
  
  <entry>
    <title>js小例子之二级联动</title>
    <link href="http://xueyao.org/2017/08/26/js-linkage-effect-example.html"/>
    <id>http://xueyao.org/2017/08/26/js-linkage-effect-example.html</id>
    <published>2017-08-25T16:00:00.000Z</published>
    <updated>2017-09-06T14:17:59.751Z</updated>
    
    <content type="html"><![CDATA[<h4 id="联动原理"><a href="#联动原理" class="headerlink" title="联动原理"></a>联动原理</h4><p>当用户点击省级的下拉选项,选择所在省,下一个下拉选项里的选项,则变成用户选择省下的所有市的信息,不会出现其它省市的信息.</p>
<a id="more"></a>
<h4 id="省市数据"><a href="#省市数据" class="headerlink" title="省市数据"></a>省市数据</h4><p>把省市数据,保存在js文件中,以json形式保存,以便读取,下面代码使用部分数据,不影响效果<br><figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div></pre></td><td class="code"><pre><div class="line">var china = [</div><div class="line">    &#123;</div><div class="line">        <span class="attr">"p_name"</span>: <span class="string">"吉林省"</span>,</div><div class="line">        <span class="attr">"p_id"</span>: <span class="string">"jl"</span>,</div><div class="line">        <span class="attr">"cities"</span>: [</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"c_name"</span>: <span class="string">"长春"</span>,</div><div class="line">                <span class="attr">"c_id"</span>: <span class="string">"cc"</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"c_name"</span>: <span class="string">"四平"</span>,</div><div class="line">                <span class="attr">"c_id"</span>: <span class="string">"sp"</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"c_name"</span>: <span class="string">"通化"</span>,</div><div class="line">                <span class="attr">"c_id"</span>: <span class="string">"th"</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"c_name"</span>: <span class="string">"松原"</span>,</div><div class="line">                <span class="attr">"c_id"</span>: <span class="string">"sy"</span></div><div class="line">            &#125;</div><div class="line">        ]</div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">        <span class="attr">"p_name"</span>: <span class="string">"辽宁省"</span>,</div><div class="line">        <span class="attr">"p_id"</span>: <span class="string">"ln"</span>,</div><div class="line">        <span class="attr">"cities"</span>: [</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"c_name"</span>: <span class="string">"沈阳"</span>,</div><div class="line">                <span class="attr">"c_id"</span>: <span class="string">"sy"</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"c_name"</span>: <span class="string">"大连"</span>,</div><div class="line">                <span class="attr">"c_id"</span>: <span class="string">"dl"</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"c_name"</span>: <span class="string">"抚顺"</span>,</div><div class="line">                <span class="attr">"c_id"</span>: <span class="string">"fs"</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"c_name"</span>: <span class="string">"铁岭"</span>,</div><div class="line">                <span class="attr">"c_id"</span>: <span class="string">"tl"</span></div><div class="line">            &#125;</div><div class="line">        ]</div><div class="line">        </div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">        <span class="attr">"p_name"</span>: <span class="string">"山东省"</span>,</div><div class="line">        <span class="attr">"p_id"</span>: <span class="string">"sd"</span>,</div><div class="line">        <span class="attr">"cities"</span>: [</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"c_name"</span>: <span class="string">"济南"</span>,</div><div class="line">                <span class="attr">"c_id"</span>: <span class="string">"jn"</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"c_name"</span>: <span class="string">"青岛"</span>,</div><div class="line">                <span class="attr">"c_id"</span>: <span class="string">"qd"</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"c_name"</span>: <span class="string">"威海"</span>,</div><div class="line">                <span class="attr">"c_id"</span>: <span class="string">"wh"</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"c_name"</span>: <span class="string">"烟台"</span>,</div><div class="line">                <span class="attr">"c_id"</span>: <span class="string">"yt"</span></div><div class="line">            &#125;</div><div class="line">        ]</div><div class="line">        </div><div class="line">    &#125;,</div><div class="line">    &#123;</div><div class="line">        <span class="attr">"p_name"</span>: <span class="string">"上海市"</span>,</div><div class="line">        <span class="attr">"p_id"</span>: <span class="string">"sh"</span>,</div><div class="line">        <span class="attr">"cities"</span>: [</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"c_name"</span>: <span class="string">"闵行区"</span>,</div><div class="line">                <span class="attr">"c_id"</span>: <span class="string">"mh"</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"c_name"</span>: <span class="string">"徐汇区"</span>,</div><div class="line">                <span class="attr">"c_id"</span>: <span class="string">"xh"</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"c_name"</span>: <span class="string">"黄浦区"</span>,</div><div class="line">                <span class="attr">"c_id"</span>: <span class="string">"hp"</span></div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                <span class="attr">"c_name"</span>: <span class="string">"浦东新区"</span>,</div><div class="line">                <span class="attr">"c_id"</span>: <span class="string">"pd"</span></div><div class="line">            &#125;</div><div class="line">        ]</div><div class="line">        </div><div class="line">    &#125;</div><div class="line">];</div></pre></td></tr></table></figure></p>
<h4 id="获取省市数据"><a href="#获取省市数据" class="headerlink" title="获取省市数据"></a>获取省市数据</h4><p>通过js dom编程读取省市数据,把省市数据读取到对应的select选项中.<br><figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>二级联动<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"content-type"</span> <span class="attr">content</span>=<span class="string">"text/html; charset=UTF-8"</span>&gt;</span> </div><div class="line">    </div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">     <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"province"</span> <span class="attr">name</span>=<span class="string">"province"</span>&gt;</span></div><div class="line">       <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"none"</span>&gt;</span>--请选择省--<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">       </div><div class="line">    <span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line">     </div><div class="line">	  <span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">"city"</span> <span class="attr">name</span>=<span class="string">"city"</span>&gt;</span></div><div class="line">	 	  <span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">"none"</span>&gt;</span>--请选择市--<span class="tag">&lt;/<span class="name">option</span>&gt;</span></div><div class="line">	  <span class="tag">&lt;/<span class="name">select</span>&gt;</span></div><div class="line">	  <span class="comment">&lt;!-- 载入省市数据 --&gt;</span>	</div><div class="line">	  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"cities.js"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">	  <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> &gt;</span><span class="undefined"></span></div><div class="line"><span class="javascript">        <span class="comment">//获得省级下拉框对象</span></span></div><div class="line"><span class="javascript">        <span class="keyword">var</span> province = <span class="built_in">document</span>.getElementById(<span class="string">"province"</span>);</span></div><div class="line"><span class="javascript">        <span class="comment">//遍历省市数据,并把里面省的数据追加到option选项中</span></span></div><div class="line"><span class="javascript">        <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;china.length; i++) &#123;</span></div><div class="line"><span class="javascript">            <span class="keyword">var</span> option = <span class="built_in">document</span>.createElement(<span class="string">"option"</span>);</span></div><div class="line"><span class="undefined">            option.value = china[i].p_id;</span></div><div class="line"><span class="undefined">            option.innerHTML = china[i].p_name;</span></div><div class="line"><span class="undefined">            province.appendChild(option);</span></div><div class="line"><span class="undefined">        &#125;</span></div><div class="line"><span class="javascript">		  <span class="comment">//省级下拉框发生改变事件</span></span></div><div class="line"><span class="javascript">		  province.onchange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span></div><div class="line"><span class="javascript">            <span class="comment">//获取当前点击对象的值</span></span></div><div class="line"><span class="javascript">            <span class="keyword">var</span> proid = <span class="keyword">this</span>.value;</span></div><div class="line"><span class="javascript">            <span class="keyword">var</span> cities;</span></div><div class="line"><span class="javascript">            <span class="comment">//遍历省市数据,把省级下点击的那一个选项的值和省市数据中的</span></span></div><div class="line"><span class="javascript">            <span class="comment">//省级数据对比,如果相等,取出当前的市的数据</span></span></div><div class="line"><span class="javascript">            <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;china.length; i++) &#123;</span></div><div class="line"><span class="javascript">                <span class="keyword">if</span> (proid == china[i].p_id) &#123;</span></div><div class="line"><span class="undefined">                    cities = china[i].cities;</span></div><div class="line"><span class="undefined">                &#125;</span></div><div class="line"><span class="undefined">            &#125;</span></div><div class="line"><span class="javascript">            <span class="comment">//获得市级下拉框对象</span></span></div><div class="line"><span class="javascript">            <span class="keyword">var</span> city = <span class="built_in">document</span>.getElementById(<span class="string">"city"</span>);</span></div><div class="line"><span class="javascript">            <span class="comment">//每次点击省级后,市级初始化,避免高级重复追加</span></span></div><div class="line"><span class="xml">            city.innerHTML = "<span class="tag">&lt;<span class="name">option</span> <span class="attr">value</span>=<span class="string">'none'</span>&gt;</span>--请选择市--<span class="tag">&lt;/<span class="name">option</span>&gt;</span>";</span></div><div class="line"><span class="javascript">            <span class="comment">//遍历市级数据,并取出市级数据,追加到市级对象中</span></span></div><div class="line"><span class="javascript">            <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;cities.length; i++) &#123;</span></div><div class="line"><span class="javascript">                <span class="keyword">var</span> option = <span class="built_in">document</span>.createElement(<span class="string">"option"</span>);</span></div><div class="line"><span class="undefined">                option.innerHTML = cities[i].c_name;</span></div><div class="line"><span class="undefined">                option.value = cities[i].c_id;</span></div><div class="line"><span class="undefined">                city.appendChild(option);</span></div><div class="line"><span class="undefined">            &#125;</span></div><div class="line"><span class="undefined">		  &#125;</span></div><div class="line"><span class="undefined">	  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span> </div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure></p>
<h4 id="二级联动效果"><a href="#二级联动效果" class="headerlink" title="二级联动效果"></a>二级联动效果</h4><p><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2017/2017-08-26-123422.gif" alt="二级联动效果图"></p>
<p><strong><a href="https://github.com/flowstone/blog-example-code/tree/master/2017-08-26-js-linkage-effect-example" target="_blank" rel="external">代码托管于GitHub</a></strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;联动原理&quot;&gt;&lt;a href=&quot;#联动原理&quot; class=&quot;headerlink&quot; title=&quot;联动原理&quot;&gt;&lt;/a&gt;联动原理&lt;/h4&gt;&lt;p&gt;当用户点击省级的下拉选项,选择所在省,下一个下拉选项里的选项,则变成用户选择省下的所有市的信息,不会出现其它省市的信息.&lt;/p&gt;
    
    </summary>
    
      <category term="js" scheme="http://xueyao.org/categories/js/"/>
    
    
      <category term="javascript" scheme="http://xueyao.org/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>关于equals()方法两边变量如何放置</title>
    <link href="http://xueyao.org/2017/07/07/Java-Equals-Position.html"/>
    <id>http://xueyao.org/2017/07/07/Java-Equals-Position.html</id>
    <published>2017-07-06T16:00:00.000Z</published>
    <updated>2017-08-29T09:20:54.372Z</updated>
    
    <content type="html"><![CDATA[<h4 id="两个变量放置位置"><a href="#两个变量放置位置" class="headerlink" title="两个变量放置位置"></a>两个变量放置位置</h4><p>如果是两个都是变量，可以放在equals任意一边，没有区别</p>
<h4 id="常量、变量放置位置"><a href="#常量、变量放置位置" class="headerlink" title="常量、变量放置位置"></a>常量、变量放置位置</h4><p>如果有一个是常量，equals()方法在使用时，建议equals()方法前面放常量。因为equals()是Object类中定义的，任何对象都可以调用equals()方法，但是，如果对象的值是null的话，会引起空指针异常。</p>
<p>如果变量放在前面也就相当调用变量的equals()方法，变量为空时，就会报空指针异常。所以把常量放在equals()方法前面，是非常好的习惯。</p>
<p>再者，如果变量放在equals()方法的括号内，变量为空时，equals()方法和null做比较，不会出现异常。</p>
<p>如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//constant为常量，variable为变量</span></div><div class="line">constant.equals(variable);  <span class="comment">//建议这样使用</span></div><div class="line">variable.equals(constant);  <span class="comment">//不建议使用，当变量为空时，会出现空指针异常</span></div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;两个变量放置位置&quot;&gt;&lt;a href=&quot;#两个变量放置位置&quot; class=&quot;headerlink&quot; title=&quot;两个变量放置位置&quot;&gt;&lt;/a&gt;两个变量放置位置&lt;/h4&gt;&lt;p&gt;如果是两个都是变量，可以放在equals任意一边，没有区别&lt;/p&gt;
&lt;h4 id=&quot;常量、变
    
    </summary>
    
      <category term="java" scheme="http://xueyao.org/categories/java/"/>
    
    
      <category term="java" scheme="http://xueyao.org/tags/java/"/>
    
      <category term="equals" scheme="http://xueyao.org/tags/equals/"/>
    
  </entry>
  
  <entry>
    <title>Java-Random入门</title>
    <link href="http://xueyao.org/2017/07/02/Java-Random-Study.html"/>
    <id>http://xueyao.org/2017/07/02/Java-Random-Study.html</id>
    <published>2017-07-01T16:00:00.000Z</published>
    <updated>2017-08-29T09:08:33.733Z</updated>
    
    <content type="html"><![CDATA[<h4 id="什么是Random？"><a href="#什么是Random？" class="headerlink" title="什么是Random？"></a>什么是Random？</h4><p>当用户要产生一个随机数，java本身提供了丰富的Random类。用户可以根据需求创建Random对象，根据Random类下的方法创建特殊的随机数。</p>
<h4 id="如何创建Random"><a href="#如何创建Random" class="headerlink" title="如何创建Random?"></a>如何创建Random?</h4><p>首先用户要创建一个Random对象</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Random random = <span class="keyword">new</span> Random();</div></pre></td></tr></table></figure>
<p>不过在使用对象之前，要导入对应的包</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> java.util.Random;</div></pre></td></tr></table></figure>
<p>当用户要创建一个整型的随机数，范围在0-100之间</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">创建随机数时，如nextInt(m),里面的范围有一定的规律，如果用户要创建一个m-n(包括m,n)的随机数时，</span></div><div class="line"><span class="comment">公式：nextInt(n-m+1)+m;如果用户要创建一个m-n(不包括m,n)的随机数时，公式：nextInt(n-m);</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="keyword">int</span> num = random.nextInt(<span class="number">101</span>);</div></pre></td></tr></table></figure>
<p>用户可以创建各种类型的随机数，只需要使用对应的方法，即可生成。</p>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;什么是Random？&quot;&gt;&lt;a href=&quot;#什么是Random？&quot; class=&quot;headerlink&quot; title=&quot;什么是Random？&quot;&gt;&lt;/a&gt;什么是Random？&lt;/h4&gt;&lt;p&gt;当用户要产生一个随机数，java本身提供了丰富的Random类。用户可以根据
    
    </summary>
    
      <category term="java" scheme="http://xueyao.org/categories/java/"/>
    
    
      <category term="java" scheme="http://xueyao.org/tags/java/"/>
    
      <category term="Random" scheme="http://xueyao.org/tags/Random/"/>
    
  </entry>
  
  <entry>
    <title>GitHub Pages 二级域名的配置</title>
    <link href="http://xueyao.org/2017/02/03/github-page-sub-domains.html"/>
    <id>http://xueyao.org/2017/02/03/github-page-sub-domains.html</id>
    <published>2017-02-02T16:00:00.000Z</published>
    <updated>2017-08-29T10:57:42.517Z</updated>
    
    <content type="html"><![CDATA[<h4 id="域名配置指南"><a href="#域名配置指南" class="headerlink" title="域名配置指南"></a>域名配置指南</h4><ul>
<li>首先创建一个新的仓库，并在设置中设置GitHub Pages的Source从master主分支上构建，点击保存，如下图所示:</li>
</ul>
<p><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2017/sp170202_220301.png" alt=""></p>
<ul>
<li>并在Custom domain 里填写自定义的二级域名，如下图所示:<br><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2017/sp170202_220346.png" alt=""></li>
<li><p>在你的域名注册商那里设置域名的DNS,类型CNAME,具体配置如下:<br><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2017/sp170202_220021.png" alt=""></p>
</li>
<li><p>把写好的代码同步到创建的仓库中，通过浏览器访问二级域名，效果如下：<br><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2017/sp170202_220444.png" alt=""></p>
</li>
<li><p>注意此二级域名的一级域名必须解析到自己flowstone.github.io下，如下图所示：<br><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2017/sp170202_220120.png" alt=""></p>
</li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;域名配置指南&quot;&gt;&lt;a href=&quot;#域名配置指南&quot; class=&quot;headerlink&quot; title=&quot;域名配置指南&quot;&gt;&lt;/a&gt;域名配置指南&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;首先创建一个新的仓库，并在设置中设置GitHub Pages的Source从master主分支上
    
    </summary>
    
      <category term="git" scheme="http://xueyao.org/categories/git/"/>
    
    
      <category term="github" scheme="http://xueyao.org/tags/github/"/>
    
      <category term="域名" scheme="http://xueyao.org/tags/%E5%9F%9F%E5%90%8D/"/>
    
  </entry>
  
  <entry>
    <title>2017年小目标</title>
    <link href="http://xueyao.org/2017/01/01/2017-small-goal.html"/>
    <id>http://xueyao.org/2017/01/01/2017-small-goal.html</id>
    <published>2016-12-31T16:00:00.000Z</published>
    <updated>2017-08-29T09:12:46.746Z</updated>
    
    <content type="html"><![CDATA[<h4 id="2017年小目标"><a href="#2017年小目标" class="headerlink" title="2017年小目标"></a>2017年小目标</h4><ul>
<li>1.看12本书籍</li>
<li>2.每天更新github</li>
<li>3.每天5000步</li>
</ul>
<p><b style="color:#666">目标定期更新</b>      </p>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;2017年小目标&quot;&gt;&lt;a href=&quot;#2017年小目标&quot; class=&quot;headerlink&quot; title=&quot;2017年小目标&quot;&gt;&lt;/a&gt;2017年小目标&lt;/h4&gt;&lt;ul&gt;
&lt;li&gt;1.看12本书籍&lt;/li&gt;
&lt;li&gt;2.每天更新github&lt;/li&gt;
&lt;li&gt;
    
    </summary>
    
      <category term="个人" scheme="http://xueyao.org/categories/%E4%B8%AA%E4%BA%BA/"/>
    
    
      <category term="目标" scheme="http://xueyao.org/tags/%E7%9B%AE%E6%A0%87/"/>
    
  </entry>
  
  <entry>
    <title>Ajax自定义日历</title>
    <link href="http://xueyao.org/2016/09/27/ajax-custom-calendar.html"/>
    <id>http://xueyao.org/2016/09/27/ajax-custom-calendar.html</id>
    <published>2016-09-26T16:00:00.000Z</published>
    <updated>2017-08-29T10:41:04.852Z</updated>
    
    <content type="html"><![CDATA[<h3 id="需求分析"><a href="#需求分析" class="headerlink" title="需求分析"></a>需求分析</h3><p>在一些购物网站中，都会有促销活动，这些活动都在日历上标注出来，如何通过Ajax让日历<br>通过读取数据库中的信息，正确的把促销活动标注在日历上，本文通过自定义日历来实现这<br>个问题。               </p>
<h3 id="技术难点"><a href="#技术难点" class="headerlink" title="技术难点"></a>技术难点</h3><ul>
<li>日历的布局</li>
<li>日历的初始化</li>
<li>日历的动态变化</li>
<li>日历的促销定制</li>
</ul>
<h3 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h3><p>1、 先创建一个固定的日历，效果如下<br><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2016/201160927_232635.png" alt="自定义日历初始效果图">    </p>
<p>html代码如下         </p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Title<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">style</span> <span class="attr">type</span>=<span class="string">"text/css"</span>&gt;</span><span class="undefined"></span></div><div class="line"><span class="undefined">        * &#123;margin: 0; padding: 0;&#125;</span></div><div class="line"><span class="undefined">        body &#123;font-size: 13px;&#125;</span></div><div class="line"><span class="undefined">        .calendar &#123;width: 330px; margin: 0 auto;&#125;</span></div><div class="line"><span class="undefined">        .calendar .title &#123;</span></div><div class="line"><span class="undefined">            position: relative;</span></div><div class="line"><span class="undefined">            width: 100%;</span></div><div class="line"><span class="undefined">            height: 30px;</span></div><div class="line"><span class="undefined">            line-height: 30px;</span></div><div class="line"><span class="undefined">            background: #17a4eb;</span></div><div class="line"><span class="undefined">        &#125;</span></div><div class="line"><span class="undefined">        .title div &#123;position: absolute;&#125;</span></div><div class="line"><span class="undefined">        .prev &#123;left: 10px; &#125;</span></div><div class="line"><span class="undefined">        .now &#123;left: 40%;&#125;</span></div><div class="line"><span class="undefined">        .next &#123;right: 10px;&#125;</span></div><div class="line"><span class="undefined">        input &#123;height: 30px; width: 300px; margin: 100px 475px 0px;&#125;</span></div><div class="line"><span class="undefined">        table &#123;width: 100%; border-collapse: collapse;&#125;</span></div><div class="line"><span class="undefined">        table th &#123;border: 1px solid #ccc;&#125;</span></div><div class="line"><span class="undefined">        table td &#123;text-align: center; border: 1px solid #ccc;&#125;</span></div><div class="line"><span class="undefined">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"calendar"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"title"</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"prev"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>08<span class="tag">&lt;/<span class="name">span</span>&gt;</span>月</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"now"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>2016<span class="tag">&lt;/<span class="name">span</span>&gt;</span>年</div><div class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>09<span class="tag">&lt;/<span class="name">span</span>&gt;</span>月</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"next"</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">span</span>&gt;</span>10<span class="tag">&lt;/<span class="name">span</span>&gt;</span>月</div><div class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">table</span>&gt;</span></div><div class="line">            <span class="comment">&lt;!--星期部分--&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">thead</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>日<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>一<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>二<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>三<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>四<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>五<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">th</span>&gt;</span>六<span class="tag">&lt;/<span class="name">th</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">thead</span>&gt;</span></div><div class="line">            <span class="comment">&lt;!--日期部分--&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">tbody</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">tr</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">                <span class="tag">&lt;<span class="name">td</span>&gt;</span>1<span class="tag">&lt;/<span class="name">td</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">tr</span>&gt;</span></div><div class="line">            <span class="tag">&lt;/<span class="name">tbody</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">table</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<p>当创建固定日历后，把日历的html部分注释掉(title和table)，保留css部分              </p>
<p>2、 通过javascript动态生成日历                       </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">window</span>.onload = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">       <span class="keyword">var</span> oInput = <span class="built_in">document</span>.getElementsByTagName(<span class="string">'input'</span>)[<span class="number">0</span>];</div><div class="line">       <span class="keyword">var</span> oCalendar = <span class="built_in">document</span>.getElementById(<span class="string">'calendar'</span>);</div><div class="line"><span class="comment">//           console.log(oCalendar);</span></div><div class="line">       <span class="keyword">var</span> oDate = <span class="keyword">new</span> <span class="built_in">Date</span>();</div><div class="line">       <span class="keyword">var</span> year = oDate.getFullYear();</div><div class="line">       <span class="keyword">var</span> month = oDate.getMonth()+<span class="number">1</span>;</div><div class="line"></div><div class="line">       <span class="comment">//日期td</span></div><div class="line">       <span class="keyword">var</span> oTds = oCalendar.getElementsByTagName(<span class="string">'td'</span>);</div><div class="line"></div><div class="line">       <span class="keyword">var</span> flag = <span class="literal">false</span>;</div><div class="line">       oInput.onfocus = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">           showDate(year,month);</div><div class="line">       &#125;</div><div class="line">       <span class="comment">//显示日历</span></div><div class="line">       <span class="function"><span class="keyword">function</span> <span class="title">showDate</span>(<span class="params">year,month</span>) </span>&#123;</div><div class="line">           <span class="keyword">if</span> (<span class="literal">false</span> == flag) &#123;</div><div class="line"></div><div class="line">               <span class="keyword">var</span> oTitle = <span class="built_in">document</span>.createElement(<span class="string">'div'</span>);</div><div class="line">               oTitle.className = <span class="string">'title'</span>;</div><div class="line"></div><div class="line">               oTitle.innerHTML = <span class="string">'&lt;div class="prev"&gt; &lt;span&gt;'</span>+(month<span class="number">-1</span>)+<span class="string">'&lt;/span&gt;月 &lt;/div&gt; '</span> +</div><div class="line">                       <span class="string">'&lt;div class="now"&gt; &lt;span&gt;'</span>+year+<span class="string">'&lt;/span&gt;年 &lt;span&gt;'</span>+month+<span class="string">'&lt;/span&gt;月 &lt;/div&gt; '</span> +</div><div class="line">                       <span class="string">'&lt;div class="next"&gt; &lt;span&gt;'</span>+(month+<span class="number">1</span>)+<span class="string">'&lt;/span&gt;月 &lt;/div&gt;'</span>;</div><div class="line"></div><div class="line">               oCalendar.appendChild(oTitle);</div><div class="line"></div><div class="line">               <span class="comment">//月份span</span></div><div class="line">                ospans = oCalendar.getElementsByTagName(<span class="string">'span'</span>);</div><div class="line">              <span class="comment">// console.log(ospans);</span></div><div class="line">                prevMonth = ospans[<span class="number">0</span>];</div><div class="line">                nextMonth = ospans[<span class="number">3</span>];</div><div class="line">                nowMonth = ospans[<span class="number">2</span>];</div><div class="line">                nowYear = ospans[<span class="number">1</span>];</div><div class="line"></div><div class="line">               <span class="comment">//创建星期</span></div><div class="line">               <span class="keyword">var</span> otable = <span class="built_in">document</span>.createElement(<span class="string">'table'</span>);</div><div class="line">               <span class="keyword">var</span> othead = <span class="built_in">document</span>.createElement(<span class="string">'thead'</span>);</div><div class="line">               <span class="keyword">var</span> otr = <span class="built_in">document</span>.createElement(<span class="string">'tr'</span>);</div><div class="line">               <span class="keyword">var</span> arr = [<span class="string">'日'</span>,<span class="string">'一'</span>,<span class="string">'二'</span>,<span class="string">'三'</span>,<span class="string">'四'</span>,<span class="string">'五'</span>,<span class="string">'六'</span>];</div><div class="line">               <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;arr.length; i++) &#123;</div><div class="line">                   <span class="comment">//创建th</span></div><div class="line">                   <span class="keyword">var</span> oth = <span class="built_in">document</span>.createElement(<span class="string">'th'</span>);</div><div class="line">                   oth.innerHTML = arr[i];</div><div class="line">                   otr.appendChild(oth);</div><div class="line">               &#125;</div><div class="line">               othead.appendChild(otr);</div><div class="line">               otable.appendChild(othead);</div><div class="line">               oCalendar.appendChild(otable);</div><div class="line"></div><div class="line"></div><div class="line">               <span class="comment">//先获得当前月有多少天</span></div><div class="line">               <span class="keyword">if</span> (<span class="number">1</span> == month || <span class="number">3</span> == month || <span class="number">5</span> == month || <span class="number">7</span> == month || <span class="number">8</span> == month || <span class="number">10</span> == month || <span class="number">12</span> == month) &#123;</div><div class="line">                   <span class="keyword">var</span> dayNum = <span class="number">31</span>;</div><div class="line">               &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">4</span> == month || <span class="number">6</span> == month || <span class="number">9</span> == month || <span class="number">11</span> == month) &#123;</div><div class="line">                   <span class="keyword">var</span> dayNum = <span class="number">30</span>;</div><div class="line">               &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">2</span> == month &amp;&amp; isLeapYear(year)) &#123;</div><div class="line">                   <span class="keyword">var</span> dayNum = <span class="number">29</span>;</div><div class="line">               &#125; <span class="keyword">else</span> &#123;</div><div class="line">                   <span class="keyword">var</span> dayNum = <span class="number">28</span>;</div><div class="line">               &#125;</div><div class="line">               <span class="comment">//确定当前月的1号是星期几</span></div><div class="line">               oDate.setFullYear(year);</div><div class="line">               oDate.setMonth(month<span class="number">-1</span>);</div><div class="line">               oDate.setDate(<span class="number">1</span>);</div><div class="line"></div><div class="line">               <span class="comment">//日期</span></div><div class="line">               <span class="keyword">var</span> otbody = <span class="built_in">document</span>.createElement(<span class="string">'tbody'</span>);</div><div class="line">               <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">6</span>; i++) &#123;</div><div class="line">                   <span class="keyword">var</span> oTr = <span class="built_in">document</span>.createElement(<span class="string">'tr'</span>);</div><div class="line">                   <span class="comment">//每行里面有7列</span></div><div class="line">                   <span class="keyword">for</span> (<span class="keyword">var</span> j=<span class="number">0</span>; j&lt;<span class="number">7</span>; j++) &#123;</div><div class="line">                       <span class="keyword">var</span> oTd = <span class="built_in">document</span>.createElement(<span class="string">'td'</span>);</div><div class="line">                       <span class="comment">//oTd.innerHTML = 1;</span></div><div class="line">                       oTr.appendChild(oTd);</div><div class="line">                   &#125;</div><div class="line">                   otbody.appendChild(oTr);</div><div class="line">               &#125;</div><div class="line">               otable.appendChild(otbody);</div><div class="line"></div><div class="line">               <span class="comment">//获得今天1号对应的是星期几</span></div><div class="line">               <span class="keyword">var</span> week = oDate.getDay();</div><div class="line">               <span class="keyword">var</span> oTds = oCalendar.getElementsByTagName(<span class="string">'td'</span>);</div><div class="line">               <span class="comment">//alert(week);</span></div><div class="line">               <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;dayNum; i++) &#123;</div><div class="line">                   oTds[i+week].innerHTML = i+<span class="number">1</span>;</div><div class="line">               &#125;</div><div class="line"></div><div class="line">               <span class="comment">//如果当前月month 是12或者1</span></div><div class="line">               <span class="keyword">if</span> (<span class="number">1</span> == month) &#123;</div><div class="line">                   prevMonth.innerHTML = <span class="number">12</span>;</div><div class="line">               &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">12</span> == month) &#123;</div><div class="line">                   nextMonth.innerHTML = <span class="number">1</span>;</div><div class="line">               &#125;</div><div class="line">               <span class="comment">//让当前日期显示红色、后面的显示蓝色</span></div><div class="line">               showColor();</div><div class="line">               <span class="comment">//给左右月份绑定点击事件</span></div><div class="line">                monthEvent();</div><div class="line">               <span class="comment">//给所有的td绑定点击事件</span></div><div class="line">               tdClick();</div><div class="line">               <span class="comment">//判断最后一行是否全为空</span></div><div class="line">               lastTr();</div><div class="line">               <span class="comment">//获得促销信息</span></div><div class="line">               getPromotion();</div><div class="line">               flag = <span class="literal">true</span>;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">       <span class="comment">//最后一行如果全部为空就将其隐藏</span></div><div class="line">       <span class="function"><span class="keyword">function</span> <span class="title">lastTr</span>(<span class="params"></span>) </span>&#123;</div><div class="line">           <span class="comment">//查找最后一行的所有td</span></div><div class="line">           <span class="keyword">var</span> flag = <span class="literal">true</span>;</div><div class="line">           <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">35</span>; i&lt;<span class="number">42</span>; i++) &#123;</div><div class="line">               <span class="keyword">if</span> (oTds[i].innerHTML != <span class="string">''</span>) &#123;</div><div class="line">                   <span class="comment">//有任何一个td不为空就设置为false</span></div><div class="line">                   flag = <span class="literal">false</span>;</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">           <span class="comment">//全部是空的</span></div><div class="line">           <span class="keyword">if</span> (flag) &#123;</div><div class="line">               <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">35</span>; i&lt;<span class="number">42</span>; i++) &#123;</div><div class="line">                   oTds[i].style.display = <span class="string">'none'</span>;</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">       <span class="comment">//给所有的td绑定点击事件</span></div><div class="line">       <span class="function"><span class="keyword">function</span> <span class="title">tdClick</span>(<span class="params"></span>) </span>&#123;</div><div class="line">           <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;oTds.length; i++) &#123;</div><div class="line">               oTds[i].onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</div><div class="line">                    <span class="keyword">if</span> (<span class="string">'red'</span> == <span class="keyword">this</span>.className ||<span class="string">'blue'</span> == <span class="keyword">this</span>.className) &#123;</div><div class="line">                        <span class="keyword">var</span> year = nowYear.innerHTML;</div><div class="line">                        <span class="keyword">var</span> month = nowMonth.innerHTML;</div><div class="line">                        <span class="keyword">var</span> date = <span class="keyword">this</span>.innerHTML;</div><div class="line">                        oInput.value = year +<span class="string">'-'</span>+month+<span class="string">'-'</span>+date;</div><div class="line">                        flag = <span class="literal">false</span>;</div><div class="line">                        oCalendar.innerHTML = <span class="string">''</span>;</div><div class="line">                    &#125; <span class="keyword">else</span> &#123;</div><div class="line">                        alert(<span class="string">'您只能选择红色或蓝色区域'</span>);</div><div class="line">                    &#125;</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">       <span class="comment">//当前日期显示红色、后面的显示蓝色</span></div><div class="line">       <span class="function"><span class="keyword">function</span> <span class="title">showColor</span>(<span class="params"></span>) </span>&#123;</div><div class="line">           <span class="comment">//当前的日期</span></div><div class="line">           <span class="keyword">var</span> oday = <span class="keyword">new</span> <span class="built_in">Date</span>().getDate();</div><div class="line">           <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;oTds.length; i++) &#123;</div><div class="line">               <span class="keyword">if</span> (oday == oTds[i].innerHTML) &#123;</div><div class="line">                   oTds[i].className = <span class="string">'red'</span>;</div><div class="line">                   <span class="keyword">var</span> oindex = i;</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">           <span class="keyword">for</span> (<span class="keyword">var</span> j=oindex+<span class="number">1</span>; j&lt;oTds.length; j++) &#123;</div><div class="line">               oTds[j].className = <span class="string">'blue'</span>;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line"></div><div class="line">       <span class="comment">//给左右月份绑定点击事件</span></div><div class="line">       <span class="function"><span class="keyword">function</span> <span class="title">monthEvent</span>(<span class="params"></span>) </span>&#123;</div><div class="line">           <span class="comment">//向左的月份div</span></div><div class="line">           prevMonth.parentNode.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">               <span class="comment">//alert('向左');</span></div><div class="line">               flag = <span class="literal">false</span>;</div><div class="line">               oCalendar.innerHTML = <span class="string">''</span>;</div><div class="line">               <span class="keyword">if</span> (<span class="number">12</span> == prevMonth.innerHTML) &#123;</div><div class="line">                   showDate(year -= <span class="number">1</span>, <span class="number">12</span>);</div><div class="line">               &#125; <span class="keyword">else</span> &#123;</div><div class="line">                   showDate(year,<span class="built_in">parseInt</span>(prevMonth.innerHTML));</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">           <span class="comment">//向左的月份div</span></div><div class="line">           nextMonth.parentNode.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</div><div class="line">               <span class="comment">//alert('向右');</span></div><div class="line">               flag = <span class="literal">false</span>;</div><div class="line">               oCalendar.innerHTML = <span class="string">''</span>;</div><div class="line">               <span class="keyword">if</span> (<span class="number">1</span> == nextMonth.innerHTML) &#123;</div><div class="line">                   showDate(year+=<span class="number">1</span>,<span class="number">1</span>);</div><div class="line">               &#125; <span class="keyword">else</span> &#123;</div><div class="line">                   showDate(year,<span class="built_in">parseInt</span>(nextMonth.innerHTML));</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">       <span class="comment">//判断是否是闰年</span></div><div class="line">       <span class="function"><span class="keyword">function</span> <span class="title">isLeapYear</span>(<span class="params">year</span>) </span>&#123;</div><div class="line">           <span class="keyword">if</span> (<span class="number">0</span> == year%<span class="number">100</span> &amp;&amp; <span class="number">0</span> == year%<span class="number">400</span>) &#123;</div><div class="line">               <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">           &#125;<span class="keyword">else</span> <span class="keyword">if</span> (year%<span class="number">100</span> != <span class="number">0</span> &amp;&amp; year%<span class="number">4</span> ==<span class="number">0</span>) &#123;</div><div class="line">               <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">           &#125; <span class="keyword">else</span> &#123;</div><div class="line">               <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">           &#125;</div><div class="line">       &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>3、 从服务器获取促销的信息并在日历中显示              </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//从服务器获取促销信息</span></div><div class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getPromotion</span>(<span class="params"></span>) </span>&#123;</div><div class="line">       $.request(&#123;</div><div class="line">          method:<span class="string">"post"</span>, <span class="comment">//获取方式</span></div><div class="line">           url:<span class="string">"promotion.php"</span>, <span class="comment">//从哪个文件中获取</span></div><div class="line">           data:<span class="string">""</span>,  <span class="comment">//是否传递数据</span></div><div class="line">           callback:<span class="function"><span class="keyword">function</span> (<span class="params">res</span>) </span>&#123;</div><div class="line">               <span class="built_in">eval</span>(<span class="string">"var obj="</span>+res);</div><div class="line">               <span class="keyword">if</span> (obj.status) &#123;</div><div class="line">                   <span class="keyword">var</span> dates = obj.dates;</div><div class="line">                   <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;dates.length; i++) &#123;</div><div class="line">                       <span class="keyword">for</span> (<span class="keyword">var</span> j=<span class="number">0</span>; j&lt;oTds.length; j++) &#123;</div><div class="line">                           <span class="keyword">if</span> (oTds[j].innerHTML == dates[i]) &#123;</div><div class="line">                               oTds[j].innerHTML += <span class="string">"促销"</span>;</div><div class="line">                               oTds[j].style.background = <span class="string">'red'</span>;</div><div class="line">                           &#125;</div><div class="line">                       &#125;</div><div class="line">                   &#125;</div><div class="line">               &#125;</div><div class="line">           &#125;</div><div class="line">       &#125;);</div><div class="line">  &#125;</div></pre></td></tr></table></figure>
<p><strong>$.request()是封装在js里的Ajax方法,代码如下：</strong>                </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> $ = &#123;</div><div class="line">    request:<span class="function"><span class="keyword">function</span>(<span class="params">obj</span>)</span>&#123;</div><div class="line">        <span class="keyword">var</span> xhr;</div><div class="line">        <span class="keyword">try</span> &#123;</div><div class="line">            <span class="comment">//主流浏览器里面的ajax对象</span></div><div class="line">            xhr = <span class="keyword">new</span> XMLHttpRequest();</div><div class="line">        &#125; <span class="keyword">catch</span>(e) &#123;</div><div class="line">            <span class="comment">//IE低版本的浏览器</span></div><div class="line">            xhr = <span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="comment">//建立和服务器的连接</span></div><div class="line">        <span class="keyword">if</span> (obj.method == <span class="string">'get'</span>) &#123;</div><div class="line">            xhr.open(obj.method,obj.url+<span class="string">'?'</span>+obj.data+<span class="string">'&amp;'</span>+<span class="built_in">Math</span>.random(),<span class="literal">true</span>);</div><div class="line">            xhr.send();</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (obj.method == <span class="string">'post'</span>) &#123;</div><div class="line">            xhr.open(obj.method,obj.url,<span class="literal">true</span>);</div><div class="line">            xhr.setRequestHeader(<span class="string">"Content-Type"</span>,<span class="string">"application/x-www-form-urlencoded"</span>);</div><div class="line">            xhr.send(obj.data);</div><div class="line">        &#125;</div><div class="line">        <span class="comment">//监视服务器的处理状态</span></div><div class="line">        xhr.onreadystatechange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</div><div class="line">            <span class="keyword">if</span> (<span class="number">4</span> == xhr.readyState &amp;&amp; <span class="number">200</span> == xhr.status) &#123;</div><div class="line">                <span class="comment">//说明请求成功了，输出服务器返回的数据</span></div><div class="line">                obj.callback(xhr.responseText);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="string">``</span><span class="string">`        </span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">promotion.php     </span></div><div class="line"><span class="string"></span></div><div class="line"><span class="string">`</span><span class="string">``</span> php</div><div class="line">&lt;?php</div><div class="line">	$data[<span class="string">'status'</span>] = <span class="number">1</span>;</div><div class="line">    <span class="comment">//促销时间</span></div><div class="line">	$data[<span class="string">'dates'</span>] = array(<span class="number">28</span>,<span class="number">29</span>,<span class="number">30</span>);</div><div class="line"></div><div class="line">	echo json_encode($data);</div></pre></td></tr></table></figure>
<p>最终效果图如下，样式不是很美观                </p>
<p><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2016/20160927_232715.png" alt="自定义日历最终效果图"></p>
<p><strong><a href="https://github.com/flowstone/2016-Code/tree/master/day075AJax" target="_blank" rel="external">代码托管于GitHub</a></strong></p>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;需求分析&quot;&gt;&lt;a href=&quot;#需求分析&quot; class=&quot;headerlink&quot; title=&quot;需求分析&quot;&gt;&lt;/a&gt;需求分析&lt;/h3&gt;&lt;p&gt;在一些购物网站中，都会有促销活动，这些活动都在日历上标注出来，如何通过Ajax让日历&lt;br&gt;通过读取数据库中的信息，正确的把
    
    </summary>
    
      <category term="js" scheme="http://xueyao.org/categories/js/"/>
    
    
      <category term="javascript" scheme="http://xueyao.org/tags/javascript/"/>
    
      <category term="日历" scheme="http://xueyao.org/tags/%E6%97%A5%E5%8E%86/"/>
    
      <category term="ajax" scheme="http://xueyao.org/tags/ajax/"/>
    
  </entry>
  
  <entry>
    <title>JS特效-轮播图</title>
    <link href="http://xueyao.org/2016/09/17/use-js-simple-carousel-picture.html"/>
    <id>http://xueyao.org/2016/09/17/use-js-simple-carousel-picture.html</id>
    <published>2016-09-16T16:00:00.000Z</published>
    <updated>2017-08-29T12:12:20.109Z</updated>
    
    <content type="html"><![CDATA[<p><strong>效果如下</strong><br><img src="https://raw.githubusercontent.com/flowstone/blogimg/master/2016/601849-20160917220146523-52456133.png" alt="轮播图"></p>
<p><strong>功能分析</strong></p>
<ul>
<li><p>1.每隔1秒换一张图片</p>
</li>
<li><p>2.鼠标移入停止切换、鼠标离开继续切换</p>
</li>
<li><p>3.鼠标移入到数字上面的时候,显示和数字对应的图片,并且停止切换,被选中的数字,背景显示橙色</p>
</li>
<li><p>4.鼠标离开数字,从该数字后面继续显示</p>
</li>
</ul>
<p><strong>代码如下</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div></pre></td><td class="code"><pre><div class="line">&lt;!DOCTYPE html&gt;</div><div class="line">&lt;html&gt;</div><div class="line">&lt;head&gt;</div><div class="line">	&lt;meta charset=<span class="string">"utf-8"</span>&gt;</div><div class="line">	&lt;meta http-equiv=<span class="string">"X-UA-Compatible"</span> content=<span class="string">"IE=edge"</span>&gt;</div><div class="line">	&lt;title&gt;&lt;/title&gt;</div><div class="line">	&lt;link rel=<span class="string">"stylesheet"</span> href=<span class="string">""</span>&gt;</div><div class="line">	&lt;style type=<span class="string">"text/css"</span>&gt;</div><div class="line">		div,</div><div class="line">		img,</div><div class="line">		ul,</div><div class="line">		li &#123;</div><div class="line">			padding: <span class="number">0</span>px;</div><div class="line">			margin: <span class="number">0</span>px;</div><div class="line">		&#125;</div><div class="line">		.content &#123;</div><div class="line">			width: <span class="number">480</span>px;</div><div class="line">			height: <span class="number">300</span>px;</div><div class="line">			border: <span class="number">1</span>px solid red;</div><div class="line">			margin: <span class="number">100</span>px auto;</div><div class="line">		&#125;</div><div class="line">		img &#123;</div><div class="line">			width: <span class="number">100</span>%;</div><div class="line">			height: <span class="number">100</span>%;</div><div class="line">			padding-bottom: <span class="number">10</span>px;</div><div class="line">		&#125;</div><div class="line">		ul li &#123;</div><div class="line">			<span class="keyword">list</span>-style: none;</div><div class="line">			float: left;</div><div class="line">			border: <span class="number">1</span>px solid orange;</div><div class="line">			height: <span class="number">30</span>px;</div><div class="line">			width: <span class="number">58</span>px;</div><div class="line">			text-align: center;</div><div class="line">			line-height: <span class="number">30</span>px;</div><div class="line">		&#125;</div><div class="line">	&lt;/style&gt;</div><div class="line">&lt;/head&gt;</div><div class="line">&lt;body&gt;</div><div class="line">	&lt;div class="content"&gt;</div><div class="line">		&lt;img src=<span class="string">"./img/1.jpg"</span> alt=<span class="string">""</span>&gt;</div><div class="line">		&lt;ul&gt;</div><div class="line">			&lt;li&gt;<span class="number">1</span>&lt;/li&gt;</div><div class="line">			&lt;li&gt;<span class="number">2</span>&lt;/li&gt;</div><div class="line">			&lt;li&gt;<span class="number">3</span>&lt;/li&gt;</div><div class="line">			&lt;li&gt;<span class="number">4</span>&lt;/li&gt;</div><div class="line">			&lt;li&gt;<span class="number">5</span>&lt;/li&gt;</div><div class="line">			&lt;li&gt;<span class="number">6</span>&lt;/li&gt;</div><div class="line">			&lt;li&gt;<span class="number">7</span>&lt;/li&gt;</div><div class="line">			&lt;li&gt;<span class="number">8</span>&lt;/li&gt;</div><div class="line">		&lt;/ul&gt;</div><div class="line">	&lt;/div&gt;</div><div class="line">	&lt;script type=<span class="string">"text/javascript"</span>&gt;</div><div class="line">		<span class="keyword">var</span> oImg = document.getElementsByTagName(<span class="string">'img'</span>)[<span class="number">0</span>];</div><div class="line">		<span class="keyword">var</span> count = <span class="number">1</span>;</div><div class="line">		<span class="function"><span class="keyword">function</span> <span class="title">changePic</span><span class="params">()</span></span>&#123;</div><div class="line">			count ++;</div><div class="line">			<span class="keyword">if</span> (count &gt; <span class="number">8</span>) &#123;</div><div class="line">				count = <span class="number">1</span>;</div><div class="line">			&#125;</div><div class="line">			oImg.src = <span class="string">'img/'</span>+count+ <span class="string">'.jpg'</span>;</div><div class="line">		&#125;</div><div class="line">		<span class="keyword">var</span> interID = setInterval(changePic, <span class="number">1000</span>);</div><div class="line">		<span class="comment">//鼠标移入停止播放</span></div><div class="line">		oImg.onmouseover = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">			clearInterval(interID);</div><div class="line"></div><div class="line">		&#125;</div><div class="line">		<span class="comment">//鼠标移出继续播放</span></div><div class="line">		oImg.onmouseout = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">				<span class="comment">//console.log(interID);</span></div><div class="line">				clearInterval(interID);</div><div class="line">				interID = setInterval(changePic, <span class="number">1000</span>);</div><div class="line"></div><div class="line">		&#125;</div><div class="line">		<span class="comment">//鼠标移入到数字上的时候,显示对应的图片</span></div><div class="line">		<span class="keyword">var</span> oLi = document.getElementsByTagName(<span class="string">'li'</span>);</div><div class="line">		<span class="comment">//console.log(oLi.length);</span></div><div class="line">		<span class="keyword">for</span> (<span class="keyword">var</span> num = <span class="number">0</span>; num &lt; oLi.length; num++) &#123;</div><div class="line">			<span class="comment">//给每个li标签增加属性，保存当前的索引位置</span></div><div class="line">			oLi[num].index = num;</div><div class="line">			<span class="comment">//移到到数字上,停止播放</span></div><div class="line">			oLi[num].onmouseover = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">				<span class="comment">//停止播放</span></div><div class="line">				clearInterval(interID);</div><div class="line">				this.style.background = <span class="string">'orange'</span>;</div><div class="line">				count = this.index;</div><div class="line">				<span class="comment">//调用循环播放图片方法</span></div><div class="line">				changePic();</div><div class="line">			&#125;</div><div class="line">			<span class="comment">//移出时,继续从停止的地方播放</span></div><div class="line">			oLi[num].onmouseout = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>&#123;</div><div class="line">				clearInterval(interID);</div><div class="line">				interID = setInterval(changePic, <span class="number">1000</span>);</div><div class="line">				this.style.background = <span class="string">'white'</span>;</div><div class="line">				count = this.index;</div><div class="line">				changePic();</div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&lt;/script&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;效果如下&lt;/strong&gt;&lt;br&gt;&lt;img src=&quot;https://raw.githubusercontent.com/flowstone/blogimg/master/2016/601849-20160917220146523-52456133.png&quot;
    
    </summary>
    
      <category term="js" scheme="http://xueyao.org/categories/js/"/>
    
    
      <category term="javascript" scheme="http://xueyao.org/tags/javascript/"/>
    
      <category term="轮播" scheme="http://xueyao.org/tags/%E8%BD%AE%E6%92%AD/"/>
    
  </entry>
  
  <entry>
    <title>开发自定义模板引擎</title>
    <link href="http://xueyao.org/2016/08/24/define-model-engine.html"/>
    <id>http://xueyao.org/2016/08/24/define-model-engine.html</id>
    <published>2016-08-23T16:00:00.000Z</published>
    <updated>2017-08-29T09:19:24.941Z</updated>
    
    <content type="html"><![CDATA[<h3 id="自定义模板引擎类"><a href="#自定义模板引擎类" class="headerlink" title="自定义模板引擎类"></a>自定义模板引擎类</h3><p><strong>MyTpl.class.php</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyTpl</span></span></div><div class="line"><span class="class"></span>&#123;</div><div class="line">    <span class="keyword">private</span> $tpl_vars = <span class="keyword">array</span>();</div><div class="line">    <span class="comment">//分配</span></div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">assign</span><span class="params">($key,$value)</span></span>&#123;</div><div class="line">        <span class="keyword">$this</span>-&gt;tpl_vars[$key] = $value;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">display</span><span class="params">($tpl)</span></span>&#123;</div><div class="line">        $contents = file_get_contents($tpl);</div><div class="line">        <span class="keyword">foreach</span> (<span class="keyword">$this</span>-&gt;tpl_vars <span class="keyword">as</span> $k =&gt; $v)&#123;</div><div class="line">        <span class="comment">//替换 将&#123;$name&#125; 替换成真实的数据</span></div><div class="line">        $contents = str_replace(<span class="string">'&#123;$'</span>.<span class="string">"$k"</span>.<span class="string">'&#125;'</span>,<span class="string">"$v"</span>, $contents);</div><div class="line">        $compile = <span class="string">'./templates_c/'</span>.md5(<span class="string">'show.html'</span>) . <span class="string">'.php'</span>;</div><div class="line">        file_put_contents($compile, $contents);</div><div class="line">        <span class="keyword">require</span> $compile;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">$tpl = <span class="keyword">new</span> MyTpl;</div><div class="line">$tpl-&gt; assign(<span class="string">'name'</span>,<span class="string">'张四'</span>);</div><div class="line">$tpl-&gt; display(<span class="string">'./template/show.html'</span>);</div></pre></td></tr></table></figure>
<h3 id="自定义视图"><a href="#自定义视图" class="headerlink" title="自定义视图"></a>自定义视图</h3><p><strong>template/show.html</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">title</span>&gt;</span>Insert title here<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    &#123;$name&#125;</div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;自定义模板引擎类&quot;&gt;&lt;a href=&quot;#自定义模板引擎类&quot; class=&quot;headerlink&quot; title=&quot;自定义模板引擎类&quot;&gt;&lt;/a&gt;自定义模板引擎类&lt;/h3&gt;&lt;p&gt;&lt;strong&gt;MyTpl.class.php&lt;/strong&gt;&lt;/p&gt;
&lt;figure c
    
    </summary>
    
      <category term="php" scheme="http://xueyao.org/categories/php/"/>
    
    
      <category term="template" scheme="http://xueyao.org/tags/template/"/>
    
  </entry>
  
  <entry>
    <title>Cookie实例-保存用户登录时的用户名</title>
    <link href="http://xueyao.org/2016/08/19/cookie-save-user-info.html"/>
    <id>http://xueyao.org/2016/08/19/cookie-save-user-info.html</id>
    <published>2016-08-18T16:00:00.000Z</published>
    <updated>2017-08-29T10:42:07.716Z</updated>
    
    <content type="html"><![CDATA[<p><strong>实现一个登录界面,记录用户名的信息,10小时内，不需要重新输入用户名的信息。(请使用Cookie完成)</strong></p>
<ul>
<li>界面代码如下</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"utf-8"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">"X-UA-Compatible"</span> <span class="attr">content</span>=<span class="string">"IE=edge"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">""</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">"user.php?a=check"</span> <span class="attr">method</span>=<span class="string">'post'</span>&gt;</span></div><div class="line">		u: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">'username'</span> <span class="attr">value</span>=<span class="string">"&lt;?php echo $username;?&gt;"</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line">		p: <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">'password'</span>&gt;</span><span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"> 		是否保存用户名 <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">value</span>=<span class="string">'yes'</span> <span class="attr">name</span>=<span class="string">'save'</span>&gt;</span>保存10小时</div><div class="line"> 		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"radio"</span> <span class="attr">value</span>=<span class="string">'no'</span> <span class="attr">name</span>=<span class="string">'save'</span>&gt;</span>不保存<span class="tag">&lt;<span class="name">br</span>/&gt;</span></div><div class="line"> 		<span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">value</span>=<span class="string">"登录"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;/<span class="name">form</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>代码如下：</li>
</ul>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;?php</span></div><div class="line">header(<span class="string">'content-type:text/html;charset=utf-8'</span>);</div><div class="line"></div><div class="line">$action = <span class="keyword">isset</span>($_GET[<span class="string">'a'</span>]) ? $_GET[<span class="string">'a'</span>] :<span class="string">'login'</span>;</div><div class="line"></div><div class="line"><span class="keyword">if</span> ($action == <span class="string">'login'</span>) &#123;</div><div class="line">	$username = <span class="string">''</span>;</div><div class="line">	<span class="keyword">if</span> (<span class="keyword">isset</span>($_COOKIE[<span class="string">'username'</span>]))&#123;</div><div class="line">		$username = $_COOKIE[<span class="string">'username'</span>];</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">require</span> <span class="string">'myLogin.html'</span>;</div><div class="line">&#125; <span class="keyword">elseif</span> ($action == <span class="string">'check'</span>) &#123;</div><div class="line"></div><div class="line">	$username = <span class="keyword">isset</span>($_POST[<span class="string">'username'</span>]) ? $_POST[<span class="string">'username'</span>] : <span class="string">''</span>;</div><div class="line">	$pwd = <span class="keyword">isset</span>($_POST[<span class="string">'password'</span>]) ? $_POST[<span class="string">'password'</span>] : <span class="string">''</span>;</div><div class="line">	$is_save = <span class="keyword">isset</span>($_POST[<span class="string">'save'</span>]) ? $_POST[<span class="string">'save'</span>] : <span class="string">''</span>;</div><div class="line"></div><div class="line">	<span class="keyword">if</span> ($pwd == <span class="string">'123'</span>) &#123;<span class="comment">//默认密码为123</span></div><div class="line">		<span class="keyword">if</span> ($is_save == <span class="string">'yes'</span>) &#123;<span class="comment">//如果点击保存用户名，则设置cookie</span></div><div class="line">			<span class="comment">//设置cookie,保存用户名</span></div><div class="line">			setcookie(<span class="string">'username'</span>,$username,time() + <span class="number">30</span>);</div><div class="line">			$info = <span class="string">'恭喜登录成功，保存了你的用户名到cookie'</span>;</div><div class="line">			<span class="keyword">require</span> <span class="string">'myLoginOk.html'</span>;</div><div class="line">		&#125;<span class="keyword">elseif</span> ($is_save == <span class="string">'no'</span>)&#123;<span class="comment">//点击不保存用户名，如果cookie中有数据，则删除cookie</span></div><div class="line">			<span class="keyword">if</span>(<span class="keyword">isset</span>($_COOKIE[<span class="string">'username'</span>]))&#123;</div><div class="line">				setcookie(<span class="string">'username'</span>,<span class="string">''</span>,time() - <span class="number">1</span>);</div><div class="line">				<span class="keyword">unset</span>($_COOKIE[<span class="string">'username'</span>]);</div><div class="line">			&#125;</div><div class="line">			$info = <span class="string">'恭喜登录成功，删除你的用户名cookie'</span>;</div><div class="line">			<span class="keyword">require</span> <span class="string">'myLoginOk.html'</span>;</div><div class="line">		&#125;<span class="keyword">else</span> &#123; <span class="comment">//如果什么都没选择,则直接显示登陆成功</span></div><div class="line">			$info = <span class="string">'恭喜登录成功'</span>;</div><div class="line">			<span class="keyword">require</span> <span class="string">'myLoginOk.html'</span>;</div><div class="line">		&#125;</div><div class="line">	&#125;<span class="keyword">else</span>&#123;<span class="comment">//密码不正确</span></div><div class="line">		$info = <span class="string">'用户名,密码不正确'</span>;</div><div class="line">		<span class="keyword">require</span> <span class="string">'myloginError.html'</span>;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;strong&gt;实现一个登录界面,记录用户名的信息,10小时内，不需要重新输入用户名的信息。(请使用Cookie完成)&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;界面代码如下&lt;/li&gt;
&lt;/ul&gt;
&lt;figure class=&quot;highlight html&quot;&gt;&lt;table
    
    </summary>
    
      <category term="php" scheme="http://xueyao.org/categories/php/"/>
    
    
      <category term="cookie" scheme="http://xueyao.org/tags/cookie/"/>
    
  </entry>
  
  <entry>
    <title>git入门</title>
    <link href="http://xueyao.org/2016/07/18/git.html"/>
    <id>http://xueyao.org/2016/07/18/git.html</id>
    <published>2016-07-17T16:00:00.000Z</published>
    <updated>2017-08-29T09:10:06.084Z</updated>
    
    <content type="html"><![CDATA[<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>下载git OSX版<br>下载git Windows版<br>下载git Linux版        </p>
<h4 id="创建新仓库"><a href="#创建新仓库" class="headerlink" title="创建新仓库"></a>创建新仓库</h4><p>创建新文件夹，打开，然后执行<br><code>git init</code><br>以创建新的git仓库          </p>
<h4 id="克隆仓库"><a href="#克隆仓库" class="headerlink" title="克隆仓库"></a>克隆仓库</h4><p>创建一个本地仓库的克隆版本：<br><code>git clone /path/to/repository</code><br>如果要克隆服务器上的仓库，你的命令会是这个样子：<br><code>git clone username@host:/path/to/repository</code>        </p>
<h4 id="添加与提交"><a href="#添加与提交" class="headerlink" title="添加与提交"></a>添加与提交</h4><p><code>git add &lt;filename&gt;</code><br><code>git add *</code><br><code>git add .</code><br>这是git基本工作流程的第一步;使用如下命令以实际提交改动：<br><code>git commit -m &#39;代码提交信息&#39;</code>      </p>
<h4 id="推送仓库"><a href="#推送仓库" class="headerlink" title="推送仓库"></a>推送仓库</h4><p>改动提交到远端仓库：<br><code>git push origin master</code><br>可以把master 换成你想要推送的任何分支。<br>如果你还没有克隆现有仓库，并欲将你的仓库连接到某个远程服务器，你可以使用如下命令添加：<br><code>git remote add origin &lt;server&gt;</code>      </p>
<h4 id="更新与合并"><a href="#更新与合并" class="headerlink" title="更新与合并"></a>更新与合并</h4><p>要更新你的本地仓库至最新改动，执行：<br><code>git pull</code>          </p>
<p>以在你的工作目录中 获取（fetch） 并 合并（merge） 远端的改动。<br>要合并其他分支到你的当前分支（例如 master），执行：<br><code>git merge &lt;branch&gt;</code>                   </p>
<p>两种情况下，git 都会尝试去自动合并改动。不幸的是，自动合并并非次次都能成功，并可能导致   冲突（conflicts）。 这时候就需要你修改这些文件来合并这些冲突（conflicts）了。改完之后，你需要执行如下命令以将它们标记为合并成功：<br><code>git add &lt;filename&gt;</code>                     </p>
<p>在合并改动之前，也可以使用如下命令查看：<br><code>git diff &lt;source_branch&gt; &lt;target_branch&gt;</code>        </p>
<h4 id="替换本地改动"><a href="#替换本地改动" class="headerlink" title="替换本地改动"></a>替换本地改动</h4><p>假如你做错事（自然，这是不可能的），你可以使用如下命令替换掉本地改动：<br><code>git checkout -- &lt;filename&gt;</code><br>此命令会使用 HEAD 中的最新内容替换掉你的工作目录中的文件。已添加到缓存区的改动，以及新文件，都不受影响。<br>假如你想要丢弃你所有的本地改动与提交，可以到服务器上获取最新的版本并将你本地主分支指向到它：<br><code>git fetch origin</code><br><code>git reset --hard origin/master</code>                  </p>
<h4 id="注"><a href="#注" class="headerlink" title="注"></a>注</h4><p><code>1. git init</code><br><code>2. git add .</code><br><code>3. git commit -m &quot;first commit&quot;</code><br><code>4. git remote add origin 远程仓库地址</code><br><code>5. git push -u origin master</code>          </p>
<p>可以通过如下命令进行代码合并【注：pull=fetch+merge]<br><code>git pull --rebase origin master</code>               </p>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h4&gt;&lt;p&gt;下载git OSX版&lt;br&gt;下载git Windows版&lt;br&gt;下载git Linux版        &lt;/p&gt;
&lt;h4 id=&quot;创建新仓库
    
    </summary>
    
      <category term="git" scheme="http://xueyao.org/categories/git/"/>
    
    
      <category term="git" scheme="http://xueyao.org/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>安装WAMP开发环境</title>
    <link href="http://xueyao.org/2016/07/16/apache-mysql-php-phpmyadmin-install.html"/>
    <id>http://xueyao.org/2016/07/16/apache-mysql-php-phpmyadmin-install.html</id>
    <published>2016-07-15T16:00:00.000Z</published>
    <updated>2017-08-29T09:20:10.746Z</updated>
    
    <content type="html"><![CDATA[<h4 id="如何安装WAMP开发环境"><a href="#如何安装WAMP开发环境" class="headerlink" title="如何安装WAMP开发环境"></a>如何安装WAMP开发环境</h4><p><strong>一.Apache安装</strong>  </p>
<p>1.以管理员方式运行cmd<br>2.在apache\bin目录下运行 httpd -k install<br>3.安装成功后配置apache的配置文件<br>4.将配置文件中apache的安装目录改成你apache的位置<br>5.并修改serverName服务地址为localhost<br>6.配置后，重新启动apache服务   httpd -k start  </p>
<p><strong>二.PHP安装</strong>  </p>
<p>1.将php处理模块和apache整合到一起，修改httpd.conf<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="string">//PHP</span> <span class="bullet">-</span> <span class="string">Module</span>   </div><div class="line"><span class="string">LoadModule</span> <span class="string">php5_module</span> <span class="string">"&#123;php路径&#125;/php5.6.16/php5apache2_4.dll"</span>  </div><div class="line"><span class="string">&lt;FilesMatch</span> <span class="string">\.php$&gt;</span>   </div><div class="line">    <span class="string">SetHandler</span> <span class="string">application/x-httpd-php</span>   </div><div class="line"><span class="string">&lt;/FilesMatch&gt;</span>   </div><div class="line"><span class="string">PHPIniDir</span> <span class="string">"&#123;php路径&#125;/php5.6.16/"</span></div></pre></td></tr></table></figure></p>
<p>2.将php.ini-deployment  改成 php.ini 启用开发模式  </p>
<p>3.开启dll库<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="string">extension=php_bz2.dll</span>   </div><div class="line"><span class="string">extension=php_curl.dll</span>   </div><div class="line"><span class="string">extension=php_mbstring.dll</span>   </div><div class="line"><span class="string">extension=php_mysql.dll</span>   </div><div class="line"><span class="string">extension=php_mysqli.dll</span></div></pre></td></tr></table></figure></p>
<p>在phi.ini 中指定扩展模块路径<br>extension_dir = “{php路径}/php-5.6.16/ext”<br>重新apache服务</p>
<p><strong>三.mysql安装</strong>  </p>
<p>典型安装-细节配置-并发设置-端口设置-字符集-服务名-密码配置</p>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;如何安装WAMP开发环境&quot;&gt;&lt;a href=&quot;#如何安装WAMP开发环境&quot; class=&quot;headerlink&quot; title=&quot;如何安装WAMP开发环境&quot;&gt;&lt;/a&gt;如何安装WAMP开发环境&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;一.Apache安装&lt;/strong&gt;  &lt;
    
    </summary>
    
      <category term="php" scheme="http://xueyao.org/categories/php/"/>
    
    
      <category term="apache" scheme="http://xueyao.org/tags/apache/"/>
    
      <category term="php" scheme="http://xueyao.org/tags/php/"/>
    
      <category term="mysql" scheme="http://xueyao.org/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>PHP实现分页功能</title>
    <link href="http://xueyao.org/2016/07/16/paging.html"/>
    <id>http://xueyao.org/2016/07/16/paging.html</id>
    <published>2016-07-15T16:00:00.000Z</published>
    <updated>2017-08-29T09:21:41.526Z</updated>
    
    <content type="html"><![CDATA[<h4 id="如何实现分页功能"><a href="#如何实现分页功能" class="headerlink" title="如何实现分页功能"></a>如何实现分页功能</h4><p><strong>1.代码如下</strong></p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$total = mysql_num_rows($res1);             </div><div class="line"><span class="comment">//页面大小               </span></div><div class="line">$pagesize = <span class="number">3</span>;           </div><div class="line"><span class="comment">//页面的值           </span></div><div class="line">$page = <span class="keyword">isset</span>($_GET[<span class="string">'page'</span>]) ?$_GET[<span class="string">'page'</span>] : <span class="number">1</span>;                </div><div class="line"><span class="comment">//页面最大数目                  </span></div><div class="line">$maxpage = ceil($total/$pagesize);             </div><div class="line"><span class="comment">//偏移量             </span></div><div class="line">$offset = ($page<span class="number">-1</span>)*$pagesize;               </div><div class="line">$sql = <span class="string">"select * from mess_info limit &#123;$offset&#125;,&#123;$pagesize&#125;"</span>;</div></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"pager"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"previous"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"list.php?page=1"</span>&gt;</span>&amp;larr; 首页<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"list.php?page=&lt;?php echo $page&lt;=1 ? $page : $page-1;?&gt;"</span>&gt;</span>上一页<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"list.php?page=&lt;?php echo $page&gt;=$maxpage ? $maxpage : $page+1;?&gt;"</span>&gt;</span>下一页<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">"next"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"list.php?page=&lt;?php echo $maxpage;?&gt;"</span>&gt;</span>末页 &amp;rarr;<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div></pre></td></tr></table></figure>
]]></content>
    
    <summary type="html">
    
      &lt;h4 id=&quot;如何实现分页功能&quot;&gt;&lt;a href=&quot;#如何实现分页功能&quot; class=&quot;headerlink&quot; title=&quot;如何实现分页功能&quot;&gt;&lt;/a&gt;如何实现分页功能&lt;/h4&gt;&lt;p&gt;&lt;strong&gt;1.代码如下&lt;/strong&gt;&lt;/p&gt;
&lt;figure class=&quot;hig
    
    </summary>
    
      <category term="php" scheme="http://xueyao.org/categories/php/"/>
    
    
      <category term="分页" scheme="http://xueyao.org/tags/%E5%88%86%E9%A1%B5/"/>
    
  </entry>
  
</feed>
